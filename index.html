<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vive Artigas - Propiedades en Artigas, Uruguay</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@9/swiper-bundle.min.css">
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <script src="https://cdn.tailwindcss.com/3.4.1"></script>
    <script src="https://cdn.jsdelivr.net/npm/swiper@9/swiper-bundle.min.js"></script>
    <style>
        :root {
            --primary: #1e3a8a;
            --secondary: #facc15;
            --gradient: linear-gradient(135deg, #1e3a8a, #3b82f6);
        }
        
        .property-card, .agency-card, .neighborhood-card {
            transition: transform 0.3s, box-shadow 0.3s;
            animation: fadeIn 0.5s ease-in;
        }
        
        .property-card:hover, .agency-card:hover, .neighborhood-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(0,0,0,0.15);
        }
        
        .fade-in { animation: fadeIn 0.8s ease-in; }
        .slide-in { animation: slideIn 0.5s ease-out; }
        .pulse { animation: pulse 2s infinite; }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        @keyframes slideIn {
            from { transform: translateX(-30px); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }
        
        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }
        
        .chat-bubble {
            position: fixed;
            bottom: 30px;
            right: 30px;
            background: var(--gradient);
            color: white;
            padding: 12px 24px;
            border-radius: 30px;
            cursor: pointer;
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
            z-index: 1000;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .line-clamp-1 {
            display: -webkit-box;
            -webkit-line-clamp: 1;
            -webkit-box-orient: vertical;
            overflow: hidden;
        }
        
        .hero-section {
            background: linear-gradient(rgba(0, 0, 0, 0.6), rgba(0, 0, 0, 0.6)), url('https://images.unsplash.com/photo-1564013799919-ab600027ffc6?ixlib=rb-4.0.3&auto=format&fit=crop&w=1350&q=80');
            background-size: cover;
            background-position: center;
        }
        
        .swiper {
            width: 100%;
            height: 100%;
        }
        
        .swiper-slide {
            text-align: center;
            display: flex;
            justify-content: center;
            align-items: center;
        }
        
        .swiper-slide img {
            display: block;
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        
        .admin-sidebar {
            transition: all 0.3s;
        }
        
        @media (max-width: 768px) {
            .admin-sidebar {
                position: fixed;
                left: -100%;
                top: 0;
                z-index: 100;
                height: 100vh;
            }
            
            .admin-sidebar.active {
                left: 0;
            }
        }
    </style>
</head>
<body class="bg-gray-50">
    <div id="root"></div>
    <div class="chat-bubble pulse" onclick="openChat()">
        <i class="fas fa-comment-dots"></i> Soporte en Vivo
    </div>
    
    <script src="https://unpkg.com/react@18.2.0/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@18.2.0/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/react-router-dom@5.3.4/umd/react-router-dom.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone@7.23.9/babel.min.js"></script>
    
    <script type="text/babel">
        const { BrowserRouter, Route, Switch, Link, useParams, useHistory } = ReactRouterDOM;

        // Datos simulados - Enfocado en Artigas
        const citiesData = [
            { id: 1, name: "Artigas", coordinates: { lat: -30.4000, lng: -56.4667 } }
        ];

        // Barrios de Artigas
        const neighborhoodsData = [
            { id: 1, name: "Centro", description: "Corazón de la ciudad con todos los servicios", coordinates: { lat: -30.4000, lng: -56.4667 } },
            { id: 2, name: "Barrio Norte", description: "Zona residencial con amplias propiedades", coordinates: { lat: -30.3900, lng: -56.4600 } },
            { id: 3, name: "Barrio Sur", description: "Área comercial y residencial", coordinates: { lat: -30.4100, lng: -56.4700 } },
            { id: 4, name: "Las Lomas", description: "Zona alta de la ciudad con vistas panorámicas", coordinates: { lat: -30.3800, lng: -56.4800 } },
            { id: 5, name: "Villa España", description: "Barrio tranquilo con amplias calles", coordinates: { lat: -30.4200, lng: -56.4500 } },
            { id: 6, name: "Jardines del Hipódromo", description: "Zona residencial cerca del hipódromo", coordinates: { lat: -30.4300, lng: -56.4800 } },
            { id: 7, name: "Santa Rosa", description: "Barrio tradicional con fuerte identidad", coordinates: { lat: -30.3950, lng: -56.4750 } },
            { id: 8, name: "Paso del Campamento", description: "Zona en crecimiento con nuevas construcciones", coordinates: { lat: -30.3700, lng: -56.4900 } }
        ];

        const propertiesData = [
            { 
                id: 1, 
                type: "Casa", 
                title: "Casa Céntrica en Artigas", 
                description: "Hermosa casa de 3 dormitorios ubicada a solo 2 cuadras de la Plaza Artigas. Amplio jardín y garaje para 2 autos.", 
                price: 25000, 
                location: "Centro, Artigas", 
                neighborhoodId: 1,
                cityId: 1, 
                bedrooms: 3, 
                bathrooms: 2, 
                area: 120, 
                yearBuilt: 2010, 
                amenities: ["jardín", "garaje", "aire acondicionado"], 
                images: [
                    "https://images.unsplash.com/photo-1564013799919-ab600027ffc6?ixlib=rb-4.0.3&auto=format&fit=crop&w=1350&q=80",
                    "https://images.unsplash.com/photo-1600585154340-be6161a56a0c?ixlib=rb-4.0.3&auto=format&fit=crop&w=1350&q=80",
                    "https://images.unsplash.com/photo-1605276374104-dee2a0ed3cd6?ixlib=rb-4.0.3&auto=format&fit=crop&w=1350&q=80"
                ], 
                pointsOfInterest: ["Plaza Artigas", "Escuela"], 
                agencyId: 1, 
                isFeatured: true, 
                sponsored: true 
            },
            { 
                id: 2, 
                type: "Apartamento", 
                title: "Apartamento Moderno en Barrio Norte", 
                description: "Apartamento completamente renovado con vista a la ciudad. Cocina moderna y amplio balcón.", 
                price: 18000, 
                location: "Norte, Artigas", 
                neighborhoodId: 2,
                cityId: 1, 
                bedrooms: 2, 
                bathrooms: 1, 
                area: 80, 
                yearBuilt: 2020, 
                amenities: ["balcón", "lavadero"], 
                images: [
                    "https://images.unsplash.com/photo-1493809842364-78817add7ffb?ixlib=rb-4.0.3&auto=format&fit=crop&w=1350&q=80",
                    "https://images.unsplash.com/photo-1502672260266-1c1ef2d93688?ixlib=rb-4.0.3&auto=format&fit=crop&w=1350&q=80"
                ], 
                pointsOfInterest: ["Supermercado", "Parque"], 
                agencyId: null, 
                isFeatured: false, 
                sponsored: false 
            },
            { 
                id: 3, 
                type: "Terreno", 
                title: "Terreno en Las Lomas", 
                description: "Amplio terreno de 500 m² en zona privilegiada con vista panorámica de la ciudad.", 
                price: 35000, 
                location: "Las Lomas, Artigas", 
                neighborhoodId: 4,
                cityId: 1, 
                bedrooms: 0, 
                bathrooms: 0, 
                area: 500, 
                yearBuilt: null, 
                amenities: [], 
                images: [
                    "https://images.unsplash.com/photo-1600880292203-757bb62b4baf?ixlib=rb-4.0.3&auto=format&fit=crop&w=1350&q=80"
                ], 
                pointsOfInterest: ["Mirador", "Plaza"], 
                agencyId: 1, 
                isFeatured: true, 
                sponsored: true 
            }
        ];

        const agenciesData = [
            { 
                id: 1, 
                name: "Inmobiliaria Artigas", 
                logo: "https://via.placeholder.com/150?text=Inmobiliaria+Artigas", 
                description: "Expertos en propiedades de Artigas desde 2010. Más de 100 propiedades vendidas y clientes satisfechos.", 
                images: ["https://images.unsplash.com/photo-1600585154340-be6161a56a0c?ixlib=rb-4.0.3&auto=format&fit=crop&w=1350&q=80"], 
                plan: "Pro", 
                contact: "098-123-456", 
                website: "https://inmobiliaria-artigas.com", 
                cityId: 1 
            },
            { 
                id: 2, 
                name: "Propiedades del Norte", 
                logo: "https://via.placeholder.com/150?text=Propiedades+Norte", 
                description: "Especialistas en propiedades residenciales en el norte de Artigas.", 
                images: ["https://images.unsplash.com/photo-1582268611958-ebfd161ef9cf?ixlib=rb-4.0.3&auto=format&fit=crop&w=1350&q=80"], 
                plan: "Basic", 
                contact: "098-654-321", 
                website: "https://propiedadesdelnorte.com", 
                cityId: 1 
            }
        ];

        const servicesData = [
            { 
                id: 1, 
                name: "Plomería Express Artigas", 
                category: "Plomería", 
                contact: "098-123-456", 
                description: "Servicio de plomería 24/7 en Artigas. Reparaciones urgentes, instalaciones y mantenimiento.", 
                cityId: 1 
            },
            { 
                id: 2, 
                name: "Electricidad Segura", 
                category: "Electricidad", 
                contact: "098-789-123", 
                description: "Servicios eléctricos certificados para tu hogar o negocio.", 
                cityId: 1 
            }
        ];

        const usersData = [
            { id: 1, username: "admin", password: "admin123", role: "admin", email: "admin@viveartigas.com" },
            { id: 2, username: "user1", password: "user123", role: "user", email: "user1@example.com" },
            { id: 3, username: "inmobiliaria1", password: "inmo123", role: "agency", email: "contacto@inmobiliaria-artigas.com", agencyId: 1 }
        ];

        // Componente PropertyCard reutilizable
        function PropertyCard({ property }) {
            return (
                <div className="property-card bg-white rounded-xl shadow-md overflow-hidden hover:shadow-lg transition-all duration-300">
                    {property.sponsored && (
                        <div className="absolute top-3 left-3 bg-yellow-400 text-white text-xs px-3 py-1 rounded-full z-10 flex items-center">
                            <i className="fas fa-star mr-1"></i> Patrocinado
                        </div>
                    )}
                    <div className="relative h-48 overflow-hidden">
                        <img 
                            src={property.images[0]} 
                            alt={property.title} 
                            className="w-full h-full object-cover transition-transform duration-500 hover:scale-110"
                        />
                        <div className="absolute bottom-3 left-3 bg-blue-600 text-white text-xs px-2 py-1 rounded flex items-center">
                            <i className={`fas fa-${property.type === 'Casa' ? 'home' : property.type === 'Apartamento' ? 'building' : 'map-marked-alt'} mr-1`}></i> {property.type}
                        </div>
                    </div>
                    <div className="p-5">
                        <h3 className="text-xl font-semibold mb-2 line-clamp-1">{property.title}</h3>
                        <p className="text-gray-600 text-sm mb-3 flex items-center">
                            <i className="fas fa-map-marker-alt mr-2 text-blue-500"></i> 
                            <span className="line-clamp-1">{property.location}</span>
                        </p>
                        <div className="flex justify-between text-sm text-gray-700 mb-4">
                            {property.bedrooms > 0 && (
                                <span className="flex items-center">
                                    {property.bedrooms} <i className="fas fa-bed ml-1 text-blue-500"></i>
                                </span>
                            )}
                            {property.bathrooms > 0 && (
                                <span className="flex items-center">
                                    {property.bathrooms} <i className="fas fa-bath ml-1 text-blue-500"></i>
                                </span>
                            )}
                            <span className="flex items-center">
                                {property.area} m² <i className="fas fa-ruler-combined ml-1 text-blue-500"></i>
                            </span>
                        </div>
                        <div className="flex justify-between items-center">
                            <p className="text-2xl font-bold text-blue-600">
                                UYU {property.price.toLocaleString('es-UY')}
                            </p>
                            <Link 
                                to={`/property/${property.id}`} 
                                className="text-blue-600 hover:text-blue-800 font-semibold text-sm flex items-center"
                            >
                                Ver más <i className="fas fa-arrow-right ml-2"></i>
                            </Link>
                        </div>
                    </div>
                </div>
            );
        }

        function Header() {
            const [user, setUser] = React.useState(JSON.parse(localStorage.getItem('user')));
            const history = useHistory();
            const [mobileMenuOpen, setMobileMenuOpen] = React.useState(false);

            const handleLogout = () => {
                localStorage.removeItem('user');
                setUser(null);
                history.push('/');
            };

            return (
                <header className="bg-gradient-to-r from-blue-900 to-blue-600 text-white shadow-lg sticky top-0 z-50">
                    <nav className="container mx-auto px-4 py-3">
                        <div className="flex justify-between items-center">
                            <Link to="/" className="text-2xl font-bold hover:text-yellow-300 transition-colors flex items-center">
                                <i className="fas fa-home mr-2"></i> Vive Artigas
                            </Link>
                            
                            <div className="hidden md:flex gap-6">
                                <Link to="/" className="hover:text-yellow-300 transition-colors flex items-center">
                                    <i className="fas fa-search mr-1"></i> Buscar
                                </Link>
                                <Link to="/list" className="hover:text-yellow-300 transition-colors flex items-center">
                                    <i className="fas fa-plus-circle mr-1"></i> Publicar
                                </Link>
                                <Link to="/agencies" className="hover:text-yellow-300 transition-colors flex items-center">
                                    <i className="fas fa-building mr-1"></i> Inmobiliarias
                                </Link>
                                <Link to="/services" className="hover:text-yellow-300 transition-colors flex items-center">
                                    <i className="fas fa-tools mr-1"></i> Servicios
                                </Link>
                                {user ? (
                                    <>
                                        <Link to={user.role === 'admin' ? '/admin' : '/profile'} className="hover:text-yellow-300 transition-colors flex items-center">
                                            <i className="fas fa-user-circle mr-1"></i> {user.username}
                                        </Link>
                                        <button onClick={handleLogout} className="hover:text-yellow-300 flex items-center">
                                            <i className="fas fa-sign-out-alt mr-1"></i> Salir
                                        </button>
                                    </>
                                ) : (
                                    <Link to="/login" className="hover:text-yellow-300 transition-colors flex items-center">
                                        <i className="fas fa-sign-in-alt mr-1"></i> Ingresar
                                    </Link>
                                )}
                            </div>
                            
                            <button 
                                className="md:hidden text-white focus:outline-none"
                                onClick={() => setMobileMenuOpen(!mobileMenuOpen)}
                            >
                                <i className={`fas fa-${mobileMenuOpen ? 'times' : 'bars'} text-xl`}></i>
                            </button>
                        </div>
                        
                        {/* Mobile menu */}
                        {mobileMenuOpen && (
                            <div className="md:hidden mt-4 pb-4 space-y-3 slide-in">
                                <Link to="/" className="block hover:text-yellow-300 transition-colors py-2" onClick={() => setMobileMenuOpen(false)}>
                                    <i className="fas fa-search mr-2"></i> Buscar
                                </Link>
                                <Link to="/list" className="block hover:text-yellow-300 transition-colors py-2" onClick={() => setMobileMenuOpen(false)}>
                                    <i className="fas fa-plus-circle mr-2"></i> Publicar
                                </Link>
                                <Link to="/agencies" className="block hover:text-yellow-300 transition-colors py-2" onClick={() => setMobileMenuOpen(false)}>
                                    <i className="fas fa-building mr-2"></i> Inmobiliarias
                                </Link>
                                <Link to="/services" className="block hover:text-yellow-300 transition-colors py-2" onClick={() => setMobileMenuOpen(false)}>
                                    <i className="fas fa-tools mr-2"></i> Servicios
                                </Link>
                                {user ? (
                                    <>
                                        <Link 
                                            to={user.role === 'admin' ? '/admin' : '/profile'} 
                                            className="block hover:text-yellow-300 transition-colors py-2"
                                            onClick={() => setMobileMenuOpen(false)}
                                        >
                                            <i className="fas fa-user-circle mr-2"></i> {user.username}
                                        </Link>
                                        <button 
                                            onClick={() => { handleLogout(); setMobileMenuOpen(false); }} 
                                            className="block hover:text-yellow-300 w-full text-left py-2"
                                        >
                                            <i className="fas fa-sign-out-alt mr-2"></i> Salir
                                        </button>
                                    </>
                                ) : (
                                    <Link 
                                        to="/login" 
                                        className="block hover:text-yellow-300 transition-colors py-2"
                                        onClick={() => setMobileMenuOpen(false)}
                                    >
                                        <i className="fas fa-sign-in-alt mr-2"></i> Ingresar
                                    </Link>
                                )}
                            </div>
                        )}
                    </nav>
                </header>
            );
        }

        function Footer() {
            return (
                <footer className="bg-gray-900 text-white py-8 mt-12">
                    <div className="container mx-auto px-4">
                        <div className="grid grid-cols-1 md:grid-cols-4 gap-8">
                            <div>
                                <h3 className="text-xl font-bold mb-4 text-yellow-300">Vive Artigas</h3>
                                <p className="text-gray-400">La mejor plataforma para encontrar tu hogar ideal en Artigas, Uruguay.</p>
                            </div>
                            <div>
                                <h4 className="font-semibold mb-4">Enlaces</h4>
                                <ul className="space-y-2">
                                    <li><Link to="/" className="text-gray-400 hover:text-white">Inicio</Link></li>
                                    <li><Link to="/list" className="text-gray-400 hover:text-white">Publicar propiedad</Link></li>
                                    <li><Link to="/agencies" className="text-gray-400 hover:text-white">Inmobiliarias</Link></li>
                                    <li><Link to="/plans" className="text-gray-400 hover:text-white">Planes</Link></li>
                                </ul>
                            </div>
                            <div>
                                <h4 className="font-semibold mb-4">Contacto</h4>
                                <ul className="text-gray-400 space-y-2">
                                    <li className="flex items-center"><i className="fas fa-phone-alt mr-2"></i> +598 477 12345</li>
                                    <li className="flex items-center"><i className="fas fa-envelope mr-2"></i> contacto@viveartigas.com</li>
                                    <li className="flex items-center"><i className="fas fa-map-marker-alt mr-2"></i> Artigas, Uruguay</li>
                                </ul>
                            </div>
                            <div>
                                <h4 className="font-semibold mb-4">Síguenos</h4>
                                <div className="flex space-x-4">
                                    <a href="#" className="text-gray-400 hover:text-white text-xl"><i className="fab fa-facebook"></i></a>
                                    <a href="#" className="text-gray-400 hover:text-white text-xl"><i className="fab fa-instagram"></i></a>
                                    <a href="#" className="text-gray-400 hover:text-white text-xl"><i className="fab fa-whatsapp"></i></a>
                                </div>
                            </div>
                        </div>
                        <div className="border-t border-gray-800 mt-8 pt-6 text-center text-gray-400">
                            <p>© 2025 Vive Artigas. Todos los derechos reservados.</p>
                        </div>
                    </div>
                </footer>
            );
        }

        function HomePage() {
            const [searchTerm, setSearchTerm] = React.useState('');
            const [filterType, setFilterType] = React.useState('');
            const [filterMinPrice, setFilterMinPrice] = React.useState('');
            const [filterMaxPrice, setFilterMaxPrice] = React.useState('');
            const [filterNeighborhood, setFilterNeighborhood] = React.useState('');
            const [showFilters, setShowFilters] = React.useState(false);
            const [selectedCity, setSelectedCity] = React.useState(1);
            const user = JSON.parse(localStorage.getItem('user'));
            const history = useHistory();
            
            // Inicializar Swiper
            React.useEffect(() => {
                new Swiper('.hero-swiper', {
                    loop: true,
                    autoplay: {
                        delay: 5000,
                        disableOnInteraction: false,
                    },
                    pagination: {
                        el: '.swiper-pagination',
                        clickable: true,
                    },
                });
            }, []);

            const filteredProperties = propertiesData.filter(prop => {
                const matchesCity = prop.cityId === selectedCity;
                const matchesSearch = searchTerm === '' || 
                    prop.title.toLowerCase().includes(searchTerm.toLowerCase()) || 
                    prop.location.toLowerCase().includes(searchTerm.toLowerCase()) || 
                    prop.description.toLowerCase().includes(searchTerm.toLowerCase()) || 
                    prop.type.toLowerCase().includes(searchTerm.toLowerCase());
                const matchesType = filterType === '' || prop.type === filterType;
                const matchesMinPrice = filterMinPrice === '' || prop.price >= parseFloat(filterMinPrice);
                const matchesMaxPrice = filterMaxPrice === '' || prop.price <= parseFloat(filterMaxPrice);
                const matchesNeighborhood = filterNeighborhood === '' || 
                    (prop.neighborhoodId && prop.neighborhoodId === parseInt(filterNeighborhood));

                return matchesCity && matchesSearch && matchesType && matchesMinPrice && matchesMaxPrice && matchesNeighborhood;
            });

            const aiRecommendations = user ? filteredProperties.filter(p => p.isFeatured || p.sponsored).slice(0, 3) : [];
            const city = citiesData.find(c => c.id === selectedCity);

            const propertyTypes = [
                { name: "Casas", icon: "home", count: propertiesData.filter(p => p.type === "Casa" && p.cityId === selectedCity).length },
                { name: "Apartamentos", icon: "building", count: propertiesData.filter(p => p.type === "Apartamento" && p.cityId === selectedCity).length },
                { name: "Terrenos", icon: "mountain", count: propertiesData.filter(p => p.type === "Terreno" && p.cityId === selectedCity).length },
                { name: "Locales", icon: "store", count: 0 } // Ejemplo
            ];

            const handleSearchSubmit = (e) => {
                e.preventDefault();
                // Forzar actualización si es necesario
            };

            return (
                <div className="fade-in">
                    {/* Hero Section con Carousel */}
                    <div className="hero-section text-white">
                        <div className="swiper hero-swiper h-96 md:h-screen max-h-[600px]">
                            <div className="swiper-wrapper">
                                <div className="swiper-slide relative">
                                    <img src="https://images.unsplash.com/photo-1564013799919-ab600027ffc6?ixlib=rb-4.0.3&auto=format&fit=crop&w=1350&q=80" alt="Casa en Artigas" />
                                    <div className="absolute inset-0 bg-black bg-opacity-40 flex items-center justify-center">
                                        <div className="text-center px-4">
                                            <h1 className="text-4xl md:text-6xl font-bold mb-6">Encuentra tu hogar en Artigas</h1>
                                            <p className="text-xl md:text-2xl mb-8 max-w-2xl mx-auto">Las mejores propiedades de la ciudad a tu alcance</p>
                                        </div>
                                    </div>
                                </div>
                                <div className="swiper-slide relative">
                                    <img src="https://images.unsplash.com/photo-1600585154340-be6161a56a0c?ixlib=rb-4.0.3&auto=format&fit=crop&w=1350&q=80" alt="Inmobiliaria" />
                                    <div className="absolute inset-0 bg-black bg-opacity-40 flex items-center justify-center">
                                        <div className="text-center px-4">
                                            <h1 className="text-4xl md:text-6xl font-bold mb-6">Inmobiliarias Confiables</h1>
                                            <p className="text-xl md:text-2xl mb-8 max-w-2xl mx-auto">Trabajamos con las mejores agencias de la ciudad</p>
                                        </div>
                                    </div>
                                </div>
                                <div className="swiper-slide relative">
                                    <img src="https://images.unsplash.com/photo-1605276374104-dee2a0ed3cd6?ixlib=rb-4.0.3&auto=format&fit=crop&w=1350&q=80" alt="Servicios" />
                                    <div className="absolute inset-0 bg-black bg-opacity-40 flex items-center justify-center">
                                        <div className="text-center px-4">
                                            <h1 className="text-4xl md:text-6xl font-bold mb-6">Todo lo que necesitas</h1>
                                            <p className="text-xl md:text-2xl mb-8 max-w-2xl mx-auto">Desde propiedades hasta servicios para tu hogar</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div className="swiper-pagination"></div>
                        </div>
                        
                        {/* Barra de búsqueda sobre el carousel */}
                        <div className="container mx-auto px-4 relative -mt-20 z-10">
                            <form onSubmit={handleSearchSubmit} className="bg-white rounded-lg shadow-xl p-6 max-w-4xl mx-auto">
                                <div className="flex flex-col md:flex-row gap-4 mb-4">
                                    <div className="flex-1">
                                        <input
                                            type="text"
                                            placeholder="Buscar por ubicación, tipo o características..."
                                            value={searchTerm}
                                            onChange={(e) => setSearchTerm(e.target.value)}
                                            className="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:outline-none"
                                        />
                                    </div>
                                    <button 
                                        type="button"
                                        onClick={() => setShowFilters(!showFilters)}
                                        className="bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-lg transition-all flex items-center justify-center"
                                    >
                                        {showFilters ? 'Menos' : 'Más'} filtros <i className={`fas fa-${showFilters ? 'minus' : 'plus'} ml-2`}></i>
                                    </button>
                                </div>

                                {showFilters && (
                                    <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mt-4 slide-in">
                                        <div>
                                            <label className="block text-sm font-medium text-gray-700 mb-1">Tipo</label>
                                            <select 
                                                value={filterType} 
                                                onChange={(e) => setFilterType(e.target.value)} 
                                                className="w-full p-2 border border-gray-300 rounded-md"
                                            >
                                                <option value="">Todos</option>
                                                <option value="Casa">Casa</option>
                                                <option value="Apartamento">Apartamento</option>
                                                <option value="Terreno">Terreno</option>
                                            </select>
                                        </div>
                                        <div>
                                            <label className="block text-sm font-medium text-gray-700 mb-1">Precio Mín</label>
                                            <input 
                                                type="number" 
                                                placeholder="UYU"
                                                value={filterMinPrice} 
                                                onChange={(e) => setFilterMinPrice(e.target.value)} 
                                                className="w-full p-2 border border-gray-300 rounded-md" 
                                            />
                                        </div>
                                        <div>
                                            <label className="block text-sm font-medium text-gray-700 mb-1">Precio Máx</label>
                                            <input 
                                                type="number" 
                                                placeholder="UYU"
                                                value={filterMaxPrice} 
                                                onChange={(e) => setFilterMaxPrice(e.target.value)} 
                                                className="w-full p-2 border border-gray-300 rounded-md" 
                                            />
                                        </div>
                                        <div>
                                            <label className="block text-sm font-medium text-gray-700 mb-1">Barrio</label>
                                            <select 
                                                value={filterNeighborhood} 
                                                onChange={(e) => setFilterNeighborhood(e.target.value)} 
                                                className="w-full p-2 border border-gray-300 rounded-md"
                                            >
                                                <option value="">Todos</option>
                                                {neighborhoodsData.map(neighborhood => (
                                                    <option key={neighborhood.id} value={neighborhood.id}>{neighborhood.name}</option>
                                                ))}
                                            </select>
                                        </div>
                                    </div>
                                )}
                            </form>
                        </div>
                    </div>

                    {/* Sección de Tipos */}
                    <div className="container mx-auto py-12 px-4">
                        <h2 className="text-3xl font-bold text-center mb-12 text-blue-900">Explora por Tipo de Propiedad</h2>
                        <div className="grid grid-cols-2 md:grid-cols-4 gap-6">
                            {propertyTypes.map((type, index) => (
                                <div 
                                    key={index} 
                                    className="bg-white rounded-xl shadow-md p-6 text-center hover:shadow-lg transition-shadow cursor-pointer hover:bg-blue-50"
                                    onClick={() => {
                                        setFilterType(type.name.replace(/s$/, ''));
                                        history.push('/');
                                    }}
                                >
                                    <div className="bg-blue-100 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4">
                                        <i className={`fas fa-${type.icon} text-blue-600 text-2xl`}></i>
                                    </div>
                                    <h3 className="text-xl font-semibold mb-2">{type.name}</h3>
                                    <p className="text-gray-600">{type.count} {type.count === 1 ? 'propiedad' : 'propiedades'}</p>
                                </div>
                            ))}
                        </div>
                    </div>

                    {/* Recomendaciones */}
                    {user && aiRecommendations.length > 0 && (
                        <div className="bg-blue-50 py-12 px-4">
                            <div className="container mx-auto">
                                <div className="flex flex-col md:flex-row justify-between items-center mb-8">
                                    <h2 className="text-3xl font-bold text-blue-900 mb-4 md:mb-0">Recomendaciones para Ti</h2>
                                    <Link to="/list" className="text-blue-600 hover:text-blue-800 font-semibold flex items-center">
                                        Ver todas <i className="fas fa-arrow-right ml-2"></i>
                                    </Link>
                                </div>
                                <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                                    {aiRecommendations.map(prop => (
                                        <PropertyCard key={prop.id} property={prop} />
                                    ))}
                                </div>
                            </div>
                        </div>
                    )}

                    {/* Propiedades Destacadas */}
                    <div className="container mx-auto py-12 px-4">
                        <div className="flex flex-col md:flex-row justify-between items-center mb-8">
                            <h2 className="text-3xl font-bold text-blue-900 mb-4 md:mb-0">Propiedades Destacadas en {city?.name}</h2>
                            <Link to="/list" className="text-blue-600 hover:text-blue-800 font-semibold flex items-center">
                                Ver todas <i className="fas fa-arrow-right ml-2"></i>
                            </Link>
                        </div>
                        {filteredProperties.filter(p => p.isFeatured).length > 0 ? (
                            <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                                {filteredProperties.filter(p => p.isFeatured).slice(0, 6).map(prop => (
                                    <PropertyCard key={prop.id} property={prop} />
                                ))}
                            </div>
                        ) : (
                            <div className="bg-white rounded-lg shadow-md p-8 text-center">
                                <i className="fas fa-home text-4xl text-gray-400 mb-4"></i>
                                <h3 className="text-xl font-semibold mb-2">No hay propiedades destacadas</h3>
                                <p className="text-gray-600 mb-4">Actualmente no tenemos propiedades destacadas en esta ciudad.</p>
                                <Link to="/list" className="inline-block bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700">
                                    Publicar una propiedad
                                </Link>
                            </div>
                        )}
                    </div>

                    {/* Barrios de Artigas */}
                    <div className="bg-gray-50 py-12 px-4">
                        <div className="container mx-auto">
                            <h2 className="text-3xl font-bold text-center mb-12 text-blue-900">Explora los Barrios de Artigas</h2>
                            <div className="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6">
                                {neighborhoodsData.map(neighborhood => (
                                    <div 
                                        key={neighborhood.id} 
                                        className="neighborhood-card bg-white rounded-xl shadow-md overflow-hidden hover:shadow-lg transition-all cursor-pointer"
                                        onClick={() => {
                                            setFilterNeighborhood(neighborhood.id);
                                            history.push('/');
                                        }}
                                    >
                                        <div className="h-40 bg-blue-100 flex items-center justify-center">
                                            <i className="fas fa-map-marker-alt text-4xl text-blue-600"></i>
                                        </div>
                                        <div className="p-5">
                                            <h3 className="text-xl font-semibold mb-2">{neighborhood.name}</h3>
                                            <p className="text-gray-600 text-sm line-clamp-2">{neighborhood.description}</p>
                                        </div>
                                    </div>
                                ))}
                            </div>
                        </div>
                    </div>

                    {/* CTA Inmobiliarias */}
                    <div className="bg-gradient-to-r from-blue-800 to-blue-600 text-white py-16 px-4 text-center">
                        <div className="container mx-auto max-w-4xl">
                            <h2 className="text-3xl font-bold mb-6">¿Eres una inmobiliaria?</h2>
                            <p className="text-xl mb-8">Únete a nuestra plataforma y aumenta tu visibilidad con nuestras herramientas profesionales</p>
                            <div className="flex flex-col sm:flex-row justify-center gap-4">
                                <Link to="/plans" className="bg-white text-blue-600 px-8 py-3 rounded-lg font-semibold hover:bg-gray-100 transition-colors flex items-center justify-center">
                                    <i className="fas fa-crown mr-2"></i> Ver planes
                                </Link>
                                <Link to="/register-agency" className="bg-transparent border-2 border-white px-8 py-3 rounded-lg font-semibold hover:bg-white hover:text-blue-600 transition-colors flex items-center justify-center">
                                    <i className="fas fa-user-plus mr-2"></i> Registrarse
                                </Link>
                            </div>
                        </div>
                    </div>
                </div>
            );
        }

        function LoginPage() {
            const [username, setUsername] = React.useState('');
            const [password, setPassword] = React.useState('');
            const [error, setError] = React.useState('');
            const history = useHistory();

            const handleSubmit = (e) => {
                e.preventDefault();
                const user = usersData.find(u => u.username === username && u.password === password);
                
                if (user) {
                    localStorage.setItem('user', JSON.stringify(user));
                    if (user.role === 'admin') {
                        history.push('/admin');
                    } else {
                        history.push('/');
                    }
                } else {
                    setError('Usuario o contraseña incorrectos');
                }
            };

            return (
                <div className="min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8">
                    <div className="max-w-md w-full space-y-8 bg-white p-8 rounded-xl shadow-lg">
                        <div>
                            <h2 className="mt-6 text-center text-3xl font-extrabold text-gray-900">
                                Iniciar sesión
                            </h2>
                        </div>
                        {error && (
                            <div className="bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative" role="alert">
                                <span className="block sm:inline">{error}</span>
                            </div>
                        )}
                        <form className="mt-8 space-y-6" onSubmit={handleSubmit}>
                            <div className="rounded-md shadow-sm space-y-4">
                                <div>
                                    <label htmlFor="username" className="block text-sm font-medium text-gray-700 mb-1">
                                        Usuario
                                    </label>
                                    <input
                                        id="username"
                                        name="username"
                                        type="text"
                                        required
                                        className="appearance-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm"
                                        placeholder="Nombre de usuario"
                                        value={username}
                                        onChange={(e) => setUsername(e.target.value)}
                                    />
                                </div>
                                <div>
                                    <label htmlFor="password" className="block text-sm font-medium text-gray-700 mb-1">
                                        Contraseña
                                    </label>
                                    <input
                                        id="password"
                                        name="password"
                                        type="password"
                                        required
                                        className="appearance-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm"
                                        placeholder="Contraseña"
                                        value={password}
                                        onChange={(e) => setPassword(e.target.value)}
                                    />
                                </div>
                            </div>

                            <div className="flex items-center justify-between">
                                <div className="flex items-center">
                                    <input
                                        id="remember-me"
                                        name="remember-me"
                                        type="checkbox"
                                        className="h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"
                                    />
                                    <label htmlFor="remember-me" className="ml-2 block text-sm text-gray-900">
                                        Recordarme
                                    </label>
                                </div>

                                <div className="text-sm">
                                    <a href="#" className="font-medium text-blue-600 hover:text-blue-500">
                                        ¿Olvidaste tu contraseña?
                                    </a>
                                </div>
                            </div>

                            <div>
                                <button
                                    type="submit"
                                    className="group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"
                                >
                                    <span className="absolute left-0 inset-y-0 flex items-center pl-3">
                                        <i className="fas fa-sign-in-alt"></i>
                                    </span>
                                    Ingresar
                                </button>
                            </div>
                        </form>
                        <div className="text-center mt-4">
                            <p className="text-sm text-gray-600">
                                ¿No tienes una cuenta?{' '}
                                <Link to="/register" className="font-medium text-blue-600 hover:text-blue-500">
                                    Regístrate
                                </Link>
                            </p>
                        </div>
                    </div>
                </div>
            );
        }

        function PropertyPage() {
            const { id } = useParams();
            const property = propertiesData.find(p => p.id === parseInt(id));
            const [activeImage, setActiveImage] = React.useState(0);
            const [showAllAmenities, setShowAllAmenities] = React.useState(false);
            const history = useHistory();

            if (!property) {
                return (
                    <div className="container mx-auto py-12 px-4 text-center">
                        <h2 className="text-3xl font-bold mb-4">Propiedad no encontrada</h2>
                        <p className="text-gray-600 mb-6">La propiedad que buscas no existe o ha sido eliminada.</p>
                        <button 
                            onClick={() => history.push('/')} 
                            className="bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700"
                        >
                            Volver al inicio
                        </button>
                    </div>
                );
            }

            const agency = property.agencyId ? agenciesData.find(a => a.id === property.agencyId) : null;

            return (
                <div className="container mx-auto py-8 px-4 fade-in">
                    <div className="mb-6">
                        <button 
                            onClick={() => history.goBack()} 
                            className="text-blue-600 hover:text-blue-800 flex items-center"
                        >
                            <i className="fas fa-arrow-left mr-2"></i> Volver a resultados
                        </button>
                    </div>
                    
                    <div className="grid grid-cols-1 lg:grid-cols-3 gap-8">
                        <div className="lg:col-span-2">
                            {/* Galería de imágenes */}
                            <div className="mb-6">
                                <div className="relative h-96 rounded-xl overflow-hidden mb-4">
                                    <img 
                                        src={property.images[activeImage]} 
                                        alt={property.title} 
                                        className="w-full h-full object-cover"
                                    />
                                    {property.sponsored && (
                                        <div className="absolute top-3 left-3 bg-yellow-400 text-white text-xs px-3 py-1 rounded-full z-10 flex items-center">
                                            <i className="fas fa-star mr-1"></i> Patrocinado
                                        </div>
                                    )}
                                </div>
                                <div className="grid grid-cols-4 gap-2">
                                    {property.images.map((img, index) => (
                                        <div 
                                            key={index} 
                                            className={`h-20 cursor-pointer rounded overflow-hidden border-2 ${activeImage === index ? 'border-blue-500' : 'border-transparent'}`}
                                            onClick={() => setActiveImage(index)}
                                        >
                                            <img src={img} alt={`Imagen ${index + 1}`} className="w-full h-full object-cover" />
                                        </div>
                                    ))}
                                </div>
                            </div>
                            
                            {/* Información básica */}
                            <div className="bg-white rounded-xl shadow-md p-6 mb-6">
                                <h1 className="text-3xl font-bold mb-2">{property.title}</h1>
                                <p className="text-gray-600 mb-4 flex items-center">
                                    <i className="fas fa-map-marker-alt mr-2 text-blue-500"></i> 
                                    {property.location}
                                </p>
                                
                                <div className="flex flex-wrap gap-4 mb-6">
                                    {property.bedrooms > 0 && (
                                        <div className="flex items-center bg-blue-50 px-3 py-1 rounded-full">
                                            <i className="fas fa-bed text-blue-600 mr-2"></i>
                                            <span>{property.bedrooms} {property.bedrooms === 1 ? 'dormitorio' : 'dormitorios'}</span>
                                        </div>
                                    )}
                                    {property.bathrooms > 0 && (
                                        <div className="flex items-center bg-blue-50 px-3 py-1 rounded-full">
                                            <i className="fas fa-bath text-blue-600 mr-2"></i>
                                            <span>{property.bathrooms} {property.bathrooms === 1 ? 'baño' : 'baños'}</span>
                                        </div>
                                    )}
                                    <div className="flex items-center bg-blue-50 px-3 py-1 rounded-full">
                                        <i className="fas fa-ruler-combined text-blue-600 mr-2"></i>
                                        <span>{property.area} m²</span>
                                    </div>
                                    {property.yearBuilt && (
                                        <div className="flex items-center bg-blue-50 px-3 py-1 rounded-full">
                                            <i className="fas fa-calendar-alt text-blue-600 mr-2"></i>
                                            <span>{property.yearBuilt}</span>
                                        </div>
                                    )}
                                </div>
                                
                                <div className="mb-6">
                                    <h3 className="text-xl font-semibold mb-3">Descripción</h3>
                                    <p className="text-gray-700">{property.description}</p>
                                </div>
                                
                                {/* Amenities */}
                                {property.amenities.length > 0 && (
                                    <div className="mb-6">
                                        <h3 className="text-xl font-semibold mb-3">Características</h3>
                                        <div className="flex flex-wrap gap-2">
                                            {property.amenities.slice(0, showAllAmenities ? property.amenities.length : 6).map((amenity, index) => (
                                                <span key={index} className="bg-gray-100 text-gray-800 px-3 py-1 rounded-full text-sm">
                                                    {amenity}
                                                </span>
                                            ))}
                                            {property.amenities.length > 6 && !showAllAmenities && (
                                                <button 
                                                    onClick={() => setShowAllAmenities(true)}
                                                    className="text-blue-600 text-sm font-medium"
                                                >
                                                    +{property.amenities.length - 6} más
                                                </button>
                                            )}
                                        </div>
                                    </div>
                                )}
                                
                                {/* Puntos de interés cercanos */}
                                {property.pointsOfInterest && property.pointsOfInterest.length > 0 && (
                                    <div>
                                        <h3 className="text-xl font-semibold mb-3">Puntos de interés cercanos</h3>
                                        <ul className="space-y-2">
                                            {property.pointsOfInterest.map((poi, index) => (
                                                <li key={index} className="flex items-center">
                                                    <i className="fas fa-check-circle text-green-500 mr-2"></i>
                                                    <span>{poi}</span>
                                                </li>
                                            ))}
                                        </ul>
                                    </div>
                                )}
                            </div>
                        </div>
                        
                        {/* Sidebar */}
                        <div>
                            {/* Precio y acciones */}
                            <div className="bg-white rounded-xl shadow-md p-6 sticky top-6 mb-6">
                                <div className="text-3xl font-bold text-blue-600 mb-4">
                                    UYU {property.price.toLocaleString('es-UY')}
                                </div>
                                
                                <button className="w-full bg-green-600 hover:bg-green-700 text-white py-3 rounded-lg font-semibold mb-3 flex items-center justify-center">
                                    <i className="fas fa-phone-alt mr-2"></i> Contactar
                                </button>
                                
                                <button className="w-full bg-blue-600 hover:bg-blue-700 text-white py-3 rounded-lg font-semibold mb-3 flex items-center justify-center">
                                    <i className="fas fa-envelope mr-2"></i> Enviar mensaje
                                </button>
                                
                                <button className="w-full border border-blue-600 text-blue-600 hover:bg-blue-50 py-3 rounded-lg font-semibold flex items-center justify-center">
                                    <i className="fas fa-heart mr-2"></i> Guardar
                                </button>
                            </div>
                            
                            {/* Inmobiliaria */}
                            {agency && (
                                <div className="bg-white rounded-xl shadow-md p-6 mb-6">
                                    <h3 className="text-xl font-semibold mb-4">Inmobiliaria</h3>
                                    <div className="flex items-center mb-4">
                                        <img src={agency.logo} alt={agency.name} className="w-16 h-16 rounded-full object-cover mr-4" />
                                        <div>
                                            <h4 className="font-bold">{agency.name}</h4>
                                            <p className="text-sm text-gray-600">{agency.plan} Plan</p>
                                        </div>
                                    </div>
                                    <div className="space-y-3">
                                        <p className="flex items-center">
                                            <i className="fas fa-phone-alt text-blue-500 mr-2"></i>
                                            <span>{agency.contact}</span>
                                        </p>
                                        <p className="flex items-center">
                                            <i className="fas fa-globe text-blue-500 mr-2"></i>
                                            <a href={agency.website} target="_blank" rel="noopener noreferrer" className="text-blue-600 hover:underline">
                                                {agency.website.replace(/^https?:\/\//, '')}
                                            </a>
                                        </p>
                                    </div>
                                </div>
                            )}
                            
                            {/* Mapa */}
                            <div className="bg-white rounded-xl shadow-md p-6">
                                <h3 className="text-xl font-semibold mb-4">Ubicación</h3>
                                <div className="h-64 bg-gray-200 rounded-lg overflow-hidden">
                                    {/* Mapa sería implementado con Leaflet o Google Maps */}
                                    <div className="w-full h-full flex items-center justify-center text-gray-500">
                                        <i className="fas fa-map-marked-alt text-4xl"></i>
                                    </div>
                                </div>
                                <button className="mt-4 text-blue-600 hover:text-blue-800 font-medium flex items-center">
                                    <i className="fas fa-directions mr-2"></i> Cómo llegar
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            );
        }

        function AdminDashboard() {
            const [activeTab, setActiveTab] = React.useState('properties');
            const [mobileSidebarOpen, setMobileSidebarOpen] = React.useState(false);
            const user = JSON.parse(localStorage.getItem('user'));
            const history = useHistory();

            // Verificar si el usuario es admin
            React.useEffect(() => {
                if (!user || user.role !== 'admin') {
                    history.push('/login');
                }
            }, [user, history]);

            if (!user || user.role !== 'admin') {
                return null;
            }

            return (
                <div className="min-h-screen bg-gray-100">
                    <div className="flex">
                        {/* Sidebar */}
                        <div className={`admin-sidebar bg-blue-900 text-white w-64 min-h-screen py-4 ${mobileSidebarOpen ? 'active' : ''}`}>
                            <div className="px-4 py-6">
                                <h1 className="text-2xl font-bold flex items-center">
                                    <i className="fas fa-user-shield mr-2"></i> Panel Admin
                                </h1>
                                <p className="text-blue-200 text-sm mt-1">Bienvenido, {user.username}</p>
                            </div>
                            
                            <nav className="mt-6">
                                <button 
                                    className={`w-full text-left px-6 py-3 flex items-center ${activeTab === 'dashboard' ? 'bg-blue-800' : 'hover:bg-blue-800'}`}
                                    onClick={() => setActiveTab('dashboard')}
                                >
                                    <i className="fas fa-tachometer-alt mr-3"></i> Dashboard
                                </button>
                                
                                <button 
                                    className={`w-full text-left px-6 py-3 flex items-center ${activeTab === 'properties' ? 'bg-blue-800' : 'hover:bg-blue-800'}`}
                                    onClick={() => setActiveTab('properties')}
                                >
                                    <i className="fas fa-home mr-3"></i> Propiedades
                                </button>
                                
                                <button 
                                    className={`w-full text-left px-6 py-3 flex items-center ${activeTab === 'agencies' ? 'bg-blue-800' : 'hover:bg-blue-800'}`}
                                    onClick={() => setActiveTab('agencies')}
                                >
                                    <i className="fas fa-building mr-3"></i> Inmobiliarias
                                </button>
                                
                                <button 
                                    className={`w-full text-left px-6 py-3 flex items-center ${activeTab === 'users' ? 'bg-blue-800' : 'hover:bg-blue-800'}`}
                                    onClick={() => setActiveTab('users')}
                                >
                                    <i className="fas fa-users mr-3"></i> Usuarios
                                </button>
                                
                                <button 
                                    className={`w-full text-left px-6 py-3 flex items-center ${activeTab === 'neighborhoods' ? 'bg-blue-800' : 'hover:bg-blue-800'}`}
                                    onClick={() => setActiveTab('neighborhoods')}
                                >
                                    <i className="fas fa-map-marked-alt mr-3"></i> Barrios
                                </button>
                                
                                <button 
                                    className={`w-full text-left px-6 py-3 flex items-center ${activeTab === 'settings' ? 'bg-blue-800' : 'hover:bg-blue-800'}`}
                                    onClick={() => setActiveTab('settings')}
                                >
                                    <i className="fas fa-cog mr-3"></i> Configuración
                                </button>
                            </nav>
                        </div>
                        
                        {/* Main content */}
                        <div className="flex-1">
                            {/* Top bar */}
                            <div className="bg-white shadow-sm">
                                <div className="px-6 py-4 flex justify-between items-center">
                                    <button 
                                        className="md:hidden text-gray-600"
                                        onClick={() => setMobileSidebarOpen(!mobileSidebarOpen)}
                                    >
                                        <i className="fas fa-bars text-xl"></i>
                                    </button>
                                    
                                    <div className="flex items-center space-x-4">
                                        <button className="text-gray-600 hover:text-gray-900">
                                            <i className="fas fa-bell"></i>
                                        </button>
                                        <button 
                                            className="text-gray-600 hover:text-gray-900"
                                            onClick={() => {
                                                localStorage.removeItem('user');
                                                history.push('/');
                                            }}
                                        >
                                            <i className="fas fa-sign-out-alt"></i>
                                        </button>
                                    </div>
                                </div>
                            </div>
                            
                            {/* Content */}
                            <div className="p-6">
                                {activeTab === 'dashboard' && <AdminDashboardHome />}
                                {activeTab === 'properties' && <AdminProperties />}
                                {activeTab === 'agencies' && <AdminAgencies />}
                                {activeTab === 'users' && <AdminUsers />}
                                {activeTab === 'neighborhoods' && <AdminNeighborhoods />}
                                {activeTab === 'settings' && <AdminSettings />}
                            </div>
                        </div>
                    </div>
                </div>
            );
        }

        function AdminDashboardHome() {
            return (
                <div>
                    <h2 className="text-2xl font-bold mb-6">Resumen del Sistema</h2>
                    
                    <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8">
                        <div className="bg-white rounded-lg shadow p-6">
                            <div className="flex justify-between items-start">
                                <div>
                                    <p className="text-gray-500">Propiedades</p>
                                    <h3 className="text-3xl font-bold mt-2">{propertiesData.length}</h3>
                                </div>
                                <div className="bg-blue-100 p-3 rounded-full text-blue-600">
                                    <i className="fas fa-home text-xl"></i>
                                </div>
                            </div>
                            <div className="mt-4 pt-4 border-t border-gray-100">
                                <Link to="/admin?tab=properties" className="text-blue-600 hover:text-blue-800 text-sm font-medium">
                                    Ver todas <i className="fas fa-arrow-right ml-1"></i>
                                </Link>
                            </div>
                        </div>
                        
                        <div className="bg-white rounded-lg shadow p-6">
                            <div className="flex justify-between items-start">
                                <div>
                                    <p className="text-gray-500">Inmobiliarias</p>
                                    <h3 className="text-3xl font-bold mt-2">{agenciesData.length}</h3>
                                </div>
                                <div className="bg-green-100 p-3 rounded-full text-green-600">
                                    <i className="fas fa-building text-xl"></i>
                                </div>
                            </div>
                            <div className="mt-4 pt-4 border-t border-gray-100">
                                <Link to="/admin?tab=agencies" className="text-blue-600 hover:text-blue-800 text-sm font-medium">
                                    Ver todas <i className="fas fa-arrow-right ml-1"></i>
                                </Link>
                            </div>
                        </div>
                        
                        <div className="bg-white rounded-lg shadow p-6">
                            <div className="flex justify-between items-start">
                                <div>
                                    <p className="text-gray-500">Usuarios</p>
                                    <h3 className="text-3xl font-bold mt-2">{usersData.length}</h3>
                                </div>
                                <div className="bg-purple-100 p-3 rounded-full text-purple-600">
                                    <i className="fas fa-users text-xl"></i>
                                </div>
                            </div>
                            <div className="mt-4 pt-4 border-t border-gray-100">
                                <Link to="/admin?tab=users" className="text-blue-600 hover:text-blue-800 text-sm font-medium">
                                    Ver todos <i className="fas fa-arrow-right ml-1"></i>
                                </Link>
                            </div>
                        </div>
                        
                        <div className="bg-white rounded-lg shadow p-6">
                            <div className="flex justify-between items-start">
                                <div>
                                    <p className="text-gray-500">Barrios</p>
                                    <h3 className="text-3xl font-bold mt-2">{neighborhoodsData.length}</h3>
                                </div>
                                <div className="bg-yellow-100 p-3 rounded-full text-yellow-600">
                                    <i className="fas fa-map-marked-alt text-xl"></i>
                                </div>
                            </div>
                            <div className="mt-4 pt-4 border-t border-gray-100">
                                <Link to="/admin?tab=neighborhoods" className="text-blue-600 hover:text-blue-800 text-sm font-medium">
                                    Ver todos <i className="fas fa-arrow-right ml-1"></i>
                                </Link>
                            </div>
                        </div>
                    </div>
                    
                    <div className="grid grid-cols-1 lg:grid-cols-2 gap-6">
                        <div className="bg-white rounded-lg shadow p-6">
                            <h3 className="text-lg font-semibold mb-4">Propiedades recientes</h3>
                            <div className="space-y-4">
                                {propertiesData.slice(0, 5).map(property => (
                                    <div key={property.id} className="flex items-start border-b border-gray-100 pb-4">
                                        <img src={property.images[0]} alt={property.title} className="w-16 h-16 rounded-md object-cover mr-4" />
                                        <div>
                                            <h4 className="font-medium">{property.title}</h4>
                                            <p className="text-sm text-gray-600">{property.location}</p>
                                            <p className="text-sm font-bold text-blue-600">UYU {property.price.toLocaleString('es-UY')}</p>
                                        </div>
                                    </div>
                                ))}
                            </div>
                            <div className="mt-4">
                                <Link to="/admin?tab=properties" className="text-blue-600 hover:text-blue-800 text-sm font-medium">
                                    Ver todas las propiedades <i className="fas fa-arrow-right ml-1"></i>
                                </Link>
                            </div>
                        </div>
                        
                        <div className="bg-white rounded-lg shadow p-6">
                            <h3 className="text-lg font-semibold mb-4">Actividad reciente</h3>
                            <div className="space-y-4">
                                <div className="flex items-start pb-4">
                                    <div className="bg-blue-100 p-2 rounded-full text-blue-600 mr-3">
                                        <i className="fas fa-home"></i>
                                    </div>
                                    <div>
                                        <p className="text-sm">Nueva propiedad agregada: <span className="font-medium">Casa en Barrio Norte</span></p>
                                        <p className="text-xs text-gray-500 mt-1">Hace 2 horas</p>
                                    </div>
                                </div>
                                <div className="flex items-start pb-4">
                                    <div className="bg-green-100 p-2 rounded-full text-green-600 mr-3">
                                        <i className="fas fa-building"></i>
                                    </div>
                                    <div>
                                        <p className="text-sm">Nueva inmobiliaria registrada: <span className="font-medium">Propiedades del Norte</span></p>
                                        <p className="text-xs text-gray-500 mt-1">Hace 1 día</p>
                                    </div>
                                </div>
                                <div className="flex items-start pb-4">
                                    <div className="bg-purple-100 p-2 rounded-full text-purple-600 mr-3">
                                        <i className="fas fa-user"></i>
                                    </div>
                                    <div>
                                        <p className="text-sm">Nuevo usuario registrado: <span className="font-medium">inmobiliaria1</span></p>
                                        <p className="text-xs text-gray-500 mt-1">Hace 2 días</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            );
        }

        function AdminProperties() {
            const [properties, setProperties] = React.useState(propertiesData);
            const [showModal, setShowModal] = React.useState(false);
            const [currentProperty, setCurrentProperty] = React.useState(null);
            const [searchTerm, setSearchTerm] = React.useState('');

            const filteredProperties = properties.filter(property =>
                property.title.toLowerCase().includes(searchTerm.toLowerCase()) ||
                property.location.toLowerCase().includes(searchTerm.toLowerCase())
            );

            const handleEdit = (property) => {
                setCurrentProperty(property);
                setShowModal(true);
            };

            const handleDelete = (id) => {
                if (window.confirm('¿Estás seguro de que deseas eliminar esta propiedad?')) {
                    setProperties(properties.filter(p => p.id !== id));
                }
            };

            const handleSave = (e) => {
                e.preventDefault();
                // Aquí iría la lógica para guardar los cambios
                setShowModal(false);
            };

            return (
                <div>
                    <div className="flex flex-col md:flex-row justify-between items-start md:items-center mb-6">
                        <h2 className="text-2xl font-bold mb-4 md:mb-0">Gestión de Propiedades</h2>
                        <div className="flex space-x-3 w-full md:w-auto">
                            <input
                                type="text"
                                placeholder="Buscar propiedades..."
                                className="px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"
                                value={searchTerm}
                                onChange={(e) => setSearchTerm(e.target.value)}
                            />
                            <button 
                                className="bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-md flex items-center"
                                onClick={() => {
                                    setCurrentProperty(null);
                                    setShowModal(true);
                                }}
                            >
                                <i className="fas fa-plus mr-2"></i> Nueva
                            </button>
                        </div>
                    </div>
                    
                    <div className="bg-white rounded-lg shadow overflow-hidden">
                        <table className="min-w-full divide-y divide-gray-200">
                            <thead className="bg-gray-50">
                                <tr>
                                    <th className="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Título</th>
                                    <th className="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Tipo</th>
                                    <th className="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Ubicación</th>
                                    <th className="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Precio</th>
                                    <th className="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Destacada</th>
                                    <th className="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Acciones</th>
                                </tr>
                            </thead>
                            <tbody className="bg-white divide-y divide-gray-200">
                                {filteredProperties.map(property => (
                                    <tr key={property.id}>
                                        <td className="px-6 py-4 whitespace-nowrap">
                                            <div className="flex items-center">
                                                <div className="flex-shrink-0 h-10 w-10">
                                                    <img className="h-10 w-10 rounded-md object-cover" src={property.images[0]} alt={property.title} />
                                                </div>
                                                <div className="ml-4">
                                                    <div className="text-sm font-medium text-gray-900">{property.title}</div>
                                                </div>
                                            </div>
                                        </td>
                                        <td className="px-6 py-4 whitespace-nowrap">
                                            <div className="text-sm text-gray-900">{property.type}</div>
                                        </td>
                                        <td className="px-6 py-4 whitespace-nowrap">
                                            <div className="text-sm text-gray-900">{property.location}</div>
                                        </td>
                                        <td className="px-6 py-4 whitespace-nowrap">
                                            <div className="text-sm text-gray-900">UYU {property.price.toLocaleString('es-UY')}</div>
                                        </td>
                                        <td className="px-6 py-4 whitespace-nowrap">
                                            {property.isFeatured ? (
                                                <span className="px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800">
                                                    Sí
                                                </span>
                                            ) : (
                                                <span className="px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-gray-100 text-gray-800">
                                                    No
                                                </span>
                                            )}
                                        </td>
                                        <td className="px-6 py-4 whitespace-nowrap text-sm font-medium">
                                            <button 
                                                className="text-blue-600 hover:text-blue-900 mr-3"
                                                onClick={() => handleEdit(property)}
                                            >
                                                Editar
                                            </button>
                                            <button 
                                                className="text-red-600 hover:text-red-900"
                                                onClick={() => handleDelete(property.id)}
                                            >
                                                Eliminar
                                            </button>
                                        </td>
                                    </tr>
                                ))}
                            </tbody>
                        </table>
                    </div>
                    
                    {/* Modal para editar/crear propiedad */}
                    {showModal && (
                        <div className="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4">
                            <div className="bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-screen overflow-y-auto">
                                <div className="p-6">
                                    <div className="flex justify-between items-center mb-4">
                                        <h3 className="text-xl font-bold">
                                            {currentProperty ? 'Editar Propiedad' : 'Nueva Propiedad'}
                                        </h3>
                                        <button 
                                            className="text-gray-500 hover:text-gray-700"
                                            onClick={() => setShowModal(false)}
                                        >
                                            <i className="fas fa-times"></i>
                                        </button>
                                    </div>
                                    
                                    <form onSubmit={handleSave}>
                                        <div className="grid grid-cols-1 md:grid-cols-2 gap-6">
                                            <div>
                                                <label className="block text-sm font-medium text-gray-700 mb-1">Título</label>
                                                <input
                                                    type="text"
                                                    className="w-full px-3 py-2 border border-gray-300 rounded-md"
                                                    defaultValue={currentProperty?.title || ''}
                                                    required
                                                />
                                            </div>
                                            
                                            <div>
                                                <label className="block text-sm font-medium text-gray-700 mb-1">Tipo</label>
                                                <select
                                                    className="w-full px-3 py-2 border border-gray-300 rounded-md"
                                                    defaultValue={currentProperty?.type || 'Casa'}
                                                    required
                                                >
                                                    <option value="Casa">Casa</option>
                                                    <option value="Apartamento">Apartamento</option>
                                                    <option value="Terreno">Terreno</option>
                                                    <option value="Local">Local Comercial</option>
                                                </select>
                                            </div>
                                            
                                            <div>
                                                <label className="block text-sm font-medium text-gray-700 mb-1">Precio (UYU)</label>
                                                <input
                                                    type="number"
                                                    className="w-full px-3 py-2 border border-gray-300 rounded-md"
                                                    defaultValue={currentProperty?.price || ''}
                                                    required
                                                />
                                            </div>
                                            
                                            <div>
                                                <label className="block text-sm font-medium text-gray-700 mb-1">Barrio</label>
                                                <select
                                                    className="w-full px-3 py-2 border border-gray-300 rounded-md"
                                                    defaultValue={currentProperty?.neighborhoodId || ''}
                                                    required
                                                >
                                                    <option value="">Seleccionar barrio</option>
                                                    {neighborhoodsData.map(neighborhood => (
                                                        <option key={neighborhood.id} value={neighborhood.id}>{neighborhood.name}</option>
                                                    ))}
                                                </select>
                                            </div>
                                            
                                            <div className="md:col-span-2">
                                                <label className="block text-sm font-medium text-gray-700 mb-1">Descripción</label>
                                                <textarea
                                                    className="w-full px-3 py-2 border border-gray-300 rounded-md"
                                                    rows="3"
                                                    defaultValue={currentProperty?.description || ''}
                                                    required
                                                ></textarea>
                                            </div>
                                            
                                            <div>
                                                <label className="block text-sm font-medium text-gray-700 mb-1">Dormitorios</label>
                                                <input
                                                    type="number"
                                                    className="w-full px-3 py-2 border border-gray-300 rounded-md"
                                                    defaultValue={currentProperty?.bedrooms || 0}
                                                />
                                            </div>
                                            
                                            <div>
                                                <label className="block text-sm font-medium text-gray-700 mb-1">Baños</label>
                                                <input
                                                    type="number"
                                                    className="w-full px-3 py-2 border border-gray-300 rounded-md"
                                                    defaultValue={currentProperty?.bathrooms || 0}
                                                />
                                            </div>
                                            
                                            <div>
                                                <label className="block text-sm font-medium text-gray-700 mb-1">Área (m²)</label>
                                                <input
                                                    type="number"
                                                    className="w-full px-3 py-2 border border-gray-300 rounded-md"
                                                    defaultValue={currentProperty?.area || ''}
                                                    required
                                                />
                                            </div>
                                            
                                            <div>
                                                <label className="block text-sm font-medium text-gray-700 mb-1">Año de construcción</label>
                                                <input
                                                    type="number"
                                                    className="w-full px-3 py-2 border border-gray-300 rounded-md"
                                                    defaultValue={currentProperty?.yearBuilt || ''}
                                                />
                                            </div>
                                            
                                            <div className="md:col-span-2">
                                                <label className="block text-sm font-medium text-gray-700 mb-1">Inmobiliaria</label>
                                                <select
                                                    className="w-full px-3 py-2 border border-gray-300 rounded-md"
                                                    defaultValue={currentProperty?.agencyId || ''}
                                                >
                                                    <option value="">Sin inmobiliaria</option>
                                                    {agenciesData.map(agency => (
                                                        <option key={agency.id} value={agency.id}>{agency.name}</option>
                                                    ))}
                                                </select>
                                            </div>
                                            
                                            <div className="flex items-center">
                                                <input
                                                    type="checkbox"
                                                    id="featured"
                                                    className="h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"
                                                    defaultChecked={currentProperty?.isFeatured || false}
                                                />
                                                <label htmlFor="featured" className="ml-2 block text-sm text-gray-700">
                                                    Destacada
                                                </label>
                                            </div>
                                            
                                            <div className="flex items-center">
                                                <input
                                                    type="checkbox"
                                                    id="sponsored"
                                                    className="h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"
                                                    defaultChecked={currentProperty?.sponsored || false}
                                                />
                                                <label htmlFor="sponsored" className="ml-2 block text-sm text-gray-700">
                                                    Patrocinada
                                                </label>
                                            </div>
                                        </div>
                                        
                                        <div className="mt-6 flex justify-end space-x-3">
                                            <button
                                                type="button"
                                                className="px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 hover:bg-gray-50"
                                                onClick={() => setShowModal(false)}
                                            >
                                                Cancelar
                                            </button>
                                            <button
                                                type="submit"
                                                className="px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700"
                                            >
                                                {currentProperty ? 'Guardar cambios' : 'Crear propiedad'}
                                            </button>
                                        </div>
                                    </form>
                                </div>
                            </div>
                        </div>
                    )}
                </div>
            );
        }

        function AdminAgencies() {
            const [agencies, setAgencies] = React.useState(agenciesData);
            const [showModal, setShowModal] = React.useState(false);
            const [currentAgency, setCurrentAgency] = React.useState(null);
            const [searchTerm, setSearchTerm] = React.useState('');

            const filteredAgencies = agencies.filter(agency =>
                agency.name.toLowerCase().includes(searchTerm.toLowerCase())
            );

            const handleEdit = (agency) => {
                setCurrentAgency(agency);
                setShowModal(true);
            };

            const handleDelete = (id) => {
                if (window.confirm('¿Estás seguro de que deseas eliminar esta inmobiliaria?')) {
                    setAgencies(agencies.filter(a => a.id !== id));
                }
            };

            const handleSave = (e) => {
                e.preventDefault();
                // Aquí iría la lógica para guardar los cambios
                setShowModal(false);
            };

            return (
                <div>
                    <div className="flex flex-col md:flex-row justify-between items-start md:items-center mb-6">
                        <h2 className="text-2xl font-bold mb-4 md:mb-0">Gestión de Inmobiliarias</h2>
                        <div className="flex space-x-3 w-full md:w-auto">
                            <input
                                type="text"
                                placeholder="Buscar inmobiliarias..."
                                className="px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"
                                value={searchTerm}
                                onChange={(e) => setSearchTerm(e.target.value)}
                            />
                            <button 
                                className="bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-md flex items-center"
                                onClick={() => {
                                    setCurrentAgency(null);
                                    setShowModal(true);
                                }}
                            >
                                <i className="fas fa-plus mr-2"></i> Nueva
                            </button>
                        </div>
                    </div>
                    
                    <div className="bg-white rounded-lg shadow overflow-hidden">
                        <table className="min-w-full divide-y divide-gray-200">
                            <thead className="bg-gray-50">
                                <tr>
                                    <th className="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Nombre</th>
                                    <th className="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Plan</th>
                                    <th className="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Contacto</th>
                                    <th className="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Acciones</th>
                                </tr>
                            </thead>
                            <tbody className="bg-white divide-y divide-gray-200">
                                {filteredAgencies.map(agency => (
                                    <tr key={agency.id}>
                                        <td className="px-6 py-4 whitespace-nowrap">
                                            <div className="flex items-center">
                                                <div className="flex-shrink-0 h-10 w-10">
                                                    <img className="h-10 w-10 rounded-full object-cover" src={agency.logo} alt={agency.name} />
                                                </div>
                                                <div className="ml-4">
                                                    <div className="text-sm font-medium text-gray-900">{agency.name}</div>
                                                </div>
                                            </div>
                                        </td>
                                        <td className="px-6 py-4 whitespace-nowrap">
                                            <span className={`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${
                                                agency.plan === 'Pro' ? 'bg-purple-100 text-purple-800' : 'bg-blue-100 text-blue-800'
                                            }`}>
                                                {agency.plan}
                                            </span>
                                        </td>
                                        <td className="px-6 py-4 whitespace-nowrap">
                                            <div className="text-sm text-gray-900">{agency.contact}</div>
                                        </td>
                                        <td className="px-6 py-4 whitespace-nowrap text-sm font-medium">
                                            <button 
                                                className="text-blue-600 hover:text-blue-900 mr-3"
                                                onClick={() => handleEdit(agency)}
                                            >
                                                Editar
                                            </button>
                                            <button 
                                                className="text-red-600 hover:text-red-900"
                                                onClick={() => handleDelete(agency.id)}
                                            >
                                                Eliminar
                                            </button>
                                        </td>
                                    </tr>
                                ))}
                            </tbody>
                        </table>
                    </div>
                    
                    {/* Modal para editar/crear inmobiliaria */}
                    {showModal && (
                        <div className="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4">
                            <div className="bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-screen overflow-y-auto">
                                <div className="p-6">
                                    <div className="flex justify-between items-center mb-4">
                                        <h3 className="text-xl font-bold">
                                            {currentAgency ? 'Editar Inmobiliaria' : 'Nueva Inmobiliaria'}
                                        </h3>
                                        <button 
                                            className="text-gray-500 hover:text-gray-700"
                                            onClick={() => setShowModal(false)}
                                        >
                                            <i className="fas fa-times"></i>
                                        </button>
                                    </div>
                                    
                                    <form onSubmit={handleSave}>
                                        <div className="grid grid-cols-1 md:grid-cols-2 gap-6">
                                            <div className="md:col-span-2">
                                                <label className="block text-sm font-medium text-gray-700 mb-1">Nombre</label>
                                                <input
                                                    type="text"
                                                    className="w-full px-3 py-2 border border-gray-300 rounded-md"
                                                    defaultValue={currentAgency?.name || ''}
                                                    required
                                                />
                                            </div>
                                            
                                            <div>
                                                <label className="block text-sm font-medium text-gray-700 mb-1">Plan</label>
                                                <select
                                                    className="w-full px-3 py-2 border border-gray-300 rounded-md"
                                                    defaultValue={currentAgency?.plan || 'Basic'}
                                                    required
                                                >
                                                    <option value="Basic">Basic</option>
                                                    <option value="Pro">Pro</option>
                                                    <option value="Premium">Premium</option>
                                                </select>
                                            </div>
                                            
                                            <div>
                                                <label className="block text-sm font-medium text-gray-700 mb-1">Contacto</label>
                                                <input
                                                    type="text"
                                                    className="w-full px-3 py-2 border border-gray-300 rounded-md"
                                                    defaultValue={currentAgency?.contact || ''}
                                                    required
                                                />
                                            </div>
                                            
                                            <div className="md:col-span-2">
                                                <label className="block text-sm font-medium text-gray-700 mb-1">Sitio web</label>
                                                <input
                                                    type="url"
                                                    className="w-full px-3 py-2 border border-gray-300 rounded-md"
                                                    defaultValue={currentAgency?.website || ''}
                                                />
                                            </div>
                                            
                                            <div className="md:col-span-2">
                                                <label className="block text-sm font-medium text-gray-700 mb-1">Descripción</label>
                                                <textarea
                                                    className="w-full px-3 py-2 border border-gray-300 rounded-md"
                                                    rows="3"
                                                    defaultValue={currentAgency?.description || ''}
                                                ></textarea>
                                            </div>
                                            
                                            <div className="md:col-span-2">
                                                <label className="block text-sm font-medium text-gray-700 mb-1">Logo URL</label>
                                                <input
                                                    type="url"
                                                    className="w-full px-3 py-2 border border-gray-300 rounded-md"
                                                    defaultValue={currentAgency?.logo || ''}
                                                />
                                            </div>
                                        </div>
                                        
                                        <div className="mt-6 flex justify-end space-x-3">
                                            <button
                                                type="button"
                                                className="px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 hover:bg-gray-50"
                                                onClick={() => setShowModal(false)}
                                            >
                                                Cancelar
                                            </button>
                                            <button
                                                type="submit"
                                                className="px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700"
                                            >
                                                {currentAgency ? 'Guardar cambios' : 'Crear inmobiliaria'}
                                            </button>
                                        </div>
                                    </form>
                                </div>
                            </div>
                        </div>
                    )}
                </div>
            );
        }

        function AdminUsers() {
            const [users, setUsers] = React.useState(usersData);
            const [showModal, setShowModal] = React.useState(false);
            const [currentUser, setCurrentUser] = React.useState(null);
            const [searchTerm, setSearchTerm] = React.useState('');

            const filteredUsers = users.filter(user =>
                user.username.toLowerCase().includes(searchTerm.toLowerCase()) ||
                user.email.toLowerCase().includes(searchTerm.toLowerCase())
            );

            const handleEdit = (user) => {
                setCurrentUser(user);
                setShowModal(true);
            };

            const handleDelete = (id) => {
                if (window.confirm('¿Estás seguro de que deseas eliminar este usuario?')) {
                    setUsers(users.filter(u => u.id !== id));
                }
            };

            const handleSave = (e) => {
                e.preventDefault();
                // Aquí iría la lógica para guardar los cambios
                setShowModal(false);
            };

            return (
                <div>
                    <div className="flex flex-col md:flex-row justify-between items-start md:items-center mb-6">
                        <h2 className="text-2xl font-bold mb-4 md:mb-0">Gestión de Usuarios</h2>
                        <div className="flex space-x-3 w-full md:w-auto">
                            <input
                                type="text"
                                placeholder="Buscar usuarios..."
                                className="px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"
                                value={searchTerm}
                                onChange={(e) => setSearchTerm(e.target.value)}
                            />
                            <button 
                                className="bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-md flex items-center"
                                onClick={() => {
                                    setCurrentUser(null);
                                    setShowModal(true);
                                }}
                            >
                                <i className="fas fa-plus mr-2"></i> Nuevo
                            </button>
                        </div>
                    </div>
                    
                    <div className="bg-white rounded-lg shadow overflow-hidden">
                        <table className="min-w-full divide-y divide-gray-200">
                            <thead className="bg-gray-50">
                                <tr>
                                    <th className="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Usuario</th>
                                    <th className="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Email</th>
                                    <th className="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Rol</th>
                                    <th className="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Acciones</th>
                                </tr>
                            </thead>
                            <tbody className="bg-white divide-y divide-gray-200">
                                {filteredUsers.map(user => (
                                    <tr key={user.id}>
                                        <td className="px-6 py-4 whitespace-nowrap">
                                            <div className="text-sm font-medium text-gray-900">{user.username}</div>
                                        </td>
                                        <td className="px-6 py-4 whitespace-nowrap">
                                            <div className="text-sm text-gray-900">{user.email}</div>
                                        </td>
                                        <td className="px-6 py-4 whitespace-nowrap">
                                            <span className={`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${
                                                user.role === 'admin' ? 'bg-red-100 text-red-800' : 
                                                user.role === 'agency' ? 'bg-blue-100 text-blue-800' : 
                                                'bg-green-100 text-green-800'
                                            }`}>
                                                {user.role === 'admin' ? 'Administrador' : 
                                                 user.role === 'agency' ? 'Inmobiliaria' : 'Usuario'}
                                            </span>
                                        </td>
                                        <td className="px-6 py-4 whitespace-nowrap text-sm font-medium">
                                            <button 
                                                className="text-blue-600 hover:text-blue-900 mr-3"
                                                onClick={() => handleEdit(user)}
                                            >
                                                Editar
                                            </button>
                                            {user.role !== 'admin' && (
                                                <button 
                                                    className="text-red-600 hover:text-red-900"
                                                    onClick={() => handleDelete(user.id)}
                                                >
                                                    Eliminar
                                                </button>
                                            )}
                                        </td>
                                    </tr>
                                ))}
                            </tbody>
                        </table>
                    </div>
                    
                    {/* Modal para editar/crear usuario */}
                    {showModal && (
                        <div className="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4">
                            <div className="bg-white rounded-lg shadow-xl max-w-md w-full max-h-screen overflow-y-auto">
                                <div className="p-6">
                                    <div className="flex justify-between items-center mb-4">
                                        <h3 className="text-xl font-bold">
                                            {currentUser ? 'Editar Usuario' : 'Nuevo Usuario'}
                                        </h3>
                                        <button 
                                            className="text-gray-500 hover:text-gray-700"
                                            onClick={() => setShowModal(false)}
                                        >
                                            <i className="fas fa-times"></i>
                                        </button>
                                    </div>
                                    
                                    <form onSubmit={handleSave}>
                                        <div className="space-y-4">
                                            <div>
                                                <label className="block text-sm font-medium text-gray-700 mb-1">Nombre de usuario</label>
                                                <input
                                                    type="text"
                                                    className="w-full px-3 py-2 border border-gray-300 rounded-md"
                                                    defaultValue={currentUser?.username || ''}
                                                    required
                                                />
                                            </div>
                                            
                                            <div>
                                                <label className="block text-sm font-medium text-gray-700 mb-1">Email</label>
                                                <input
                                                    type="email"
                                                    className="w-full px-3 py-2 border border-gray-300 rounded-md"
                                                    defaultValue={currentUser?.email || ''}
                                                    required
                                                />
                                            </div>
                                            
                                            {!currentUser && (
                                                <div>
                                                    <label className="block text-sm font-medium text-gray-700 mb-1">Contraseña</label>
                                                    <input
                                                        type="password"
                                                        className="w-full px-3 py-2 border border-gray-300 rounded-md"
                                                        required
                                                    />
                                                </div>
                                            )}
                                            
                                            <div>
                                                <label className="block text-sm font-medium text-gray-700 mb-1">Rol</label>
                                                <select
                                                    className="w-full px-3 py-2 border border-gray-300 rounded-md"
                                                    defaultValue={currentUser?.role || 'user'}
                                                    required
                                                >
                                                    <option value="admin">Administrador</option>
                                                    <option value="agency">Inmobiliaria</option>
                                                    <option value="user">Usuario normal</option>
                                                </select>
                                            </div>
                                            
                                            {currentUser?.agencyId && (
                                                <div>
                                                    <label className="block text-sm font-medium text-gray-700 mb-1">Inmobiliaria asociada</label>
                                                    <select
                                                        className="w-full px-3 py-2 border border-gray-300 rounded-md"
                                                        defaultValue={currentUser?.agencyId || ''}
                                                    >
                                                        <option value="">Ninguna</option>
                                                        {agenciesData.map(agency => (
                                                            <option key={agency.id} value={agency.id}>{agency.name}</option>
                                                        ))}
                                                    </select>
                                                </div>
                                            )}
                                        </div>
                                        
                                        <div className="mt-6 flex justify-end space-x-3">
                                            <button
                                                type="button"
                                                className="px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 hover:bg-gray-50"
                                                onClick={() => setShowModal(false)}
                                            >
                                                Cancelar
                                            </button>
                                            <button
                                                type="submit"
                                                className="px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700"
                                            >
                                                {currentUser ? 'Guardar cambios' : 'Crear usuario'}
                                            </button>
                                        </div>
                                    </form>
                                </div>
                            </div>
                        </div>
                    )}
                </div>
            );
        }

        function AdminNeighborhoods() {
            const [neighborhoods, setNeighborhoods] = React.useState(neighborhoodsData);
            const [showModal, setShowModal] = React.useState(false);
            const [currentNeighborhood, setCurrentNeighborhood] = React.useState(null);
            const [searchTerm, setSearchTerm] = React.useState('');

            const filteredNeighborhoods = neighborhoods.filter(neighborhood =>
                neighborhood.name.toLowerCase().includes(searchTerm.toLowerCase())
            );

            const handleEdit = (neighborhood) => {
                setCurrentNeighborhood(neighborhood);
                setShowModal(true);
            };

            const handleDelete = (id) => {
                if (window.confirm('¿Estás seguro de que deseas eliminar este barrio?')) {
                    setNeighborhoods(neighborhoods.filter(n => n.id !== id));
                }
            };

            const handleSave = (e) => {
                e.preventDefault();
                // Aquí iría la lógica para guardar los cambios
                setShowModal(false);
            };

            return (
                <div>
                    <div className="flex flex-col md:flex-row justify-between items-start md:items-center mb-6">
                        <h2 className="text-2xl font-bold mb-4 md:mb-0">Gestión de Barrios</h2>
                        <div className="flex space-x-3 w-full md:w-auto">
                            <input
                                type="text"
                                placeholder="Buscar barrios..."
                                className="px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"
                                value={searchTerm}
                                onChange={(e) => setSearchTerm(e.target.value)}
                            />
                            <button 
                                className="bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-md flex items-center"
                                onClick={() => {
                                    setCurrentNeighborhood(null);
                                    setShowModal(true);
                                }}
                            >
                                <i className="fas fa-plus mr-2"></i> Nuevo
                            </button>
                        </div>
                    </div>
                    
                    <div className="bg-white rounded-lg shadow overflow-hidden">
                        <table className="min-w-full divide-y divide-gray-200">
                            <thead className="bg-gray-50">
                                <tr>
                                    <th className="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Nombre</th>
                                    <th className="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Descripción</th>
                                    <th className="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Acciones</th>
                                </tr>
                            </thead>
                            <tbody className="bg-white divide-y divide-gray-200">
                                {filteredNeighborhoods.map(neighborhood => (
                                    <tr key={neighborhood.id}>
                                        <td className="px-6 py-4 whitespace-nowrap">
                                            <div className="text-sm font-medium text-gray-900">{neighborhood.name}</div>
                                        </td>
                                        <td className="px-6 py-4">
                                            <div className="text-sm text-gray-900 line-clamp-2">{neighborhood.description}</div>
                                        </td>
                                        <td className="px-6 py-4 whitespace-nowrap text-sm font-medium">
                                            <button 
                                                className="text-blue-600 hover:text-blue-900 mr-3"
                                                onClick={() => handleEdit(neighborhood)}
                                            >
                                                Editar
                                            </button>
                                            <button 
                                                className="text-red-600 hover:text-red-900"
                                                onClick={() => handleDelete(neighborhood.id)}
                                            >
                                                Eliminar
                                            </button>
                                        </td>
                                    </tr>
                                ))}
                            </tbody>
                        </table>
                    </div>
                    
                    {/* Modal para editar/crear barrio */}
                    {showModal && (
                        <div className="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4">
                            <div className="bg-white rounded-lg shadow-xl max-w-md w-full max-h-screen overflow-y-auto">
                                <div className="p-6">
                                    <div className="flex justify-between items-center mb-4">
                                        <h3 className="text-xl font-bold">
                                            {currentNeighborhood ? 'Editar Barrio' : 'Nuevo Barrio'}
                                        </h3>
                                        <button 
                                            className="text-gray-500 hover:text-gray-700"
                                            onClick={() => setShowModal(false)}
                                        >
                                            <i className="fas fa-times"></i>
                                        </button>
                                    </div>
                                    
                                    <form onSubmit={handleSave}>
                                        <div className="space-y-4">
                                            <div>
                                                <label className="block text-sm font-medium text-gray-700 mb-1">Nombre</label>
                                                <input
                                                    type="text"
                                                    className="w-full px-3 py-2 border border-gray-300 rounded-md"
                                                    defaultValue={currentNeighborhood?.name || ''}
                                                    required
                                                />
                                            </div>
                                            
                                            <div>
                                                <label className="block text-sm font-medium text-gray-700 mb-1">Descripción</label>
                                                <textarea
                                                    className="w-full px-3 py-2 border border-gray-300 rounded-md"
                                                    rows="3"
                                                    defaultValue={currentNeighborhood?.description || ''}
                                                    required
                                                ></textarea>
                                            </div>
                                            
                                            <div className="grid grid-cols-2 gap-4">
                                                <div>
                                                    <label className="block text-sm font-medium text-gray-700 mb-1">Latitud</label>
                                                    <input
                                                        type="number"
                                                        step="any"
                                                        className="w-full px-3 py-2 border border-gray-300 rounded-md"
                                                        defaultValue={currentNeighborhood?.coordinates?.lat || ''}
                                                        required
                                                    />
                                                </div>
                                                
                                                <div>
                                                    <label className="block text-sm font-medium text-gray-700 mb-1">Longitud</label>
                                                    <input
                                                        type="number"
                                                        step="any"
                                                        className="w-full px-3 py-2 border border-gray-300 rounded-md"
                                                        defaultValue={currentNeighborhood?.coordinates?.lng || ''}
                                                        required
                                                    />
                                                </div>
                                            </div>
                                        </div>
                                        
                                        <div className="mt-6 flex justify-end space-x-3">
                                            <button
                                                type="button"
                                                className="px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 hover:bg-gray-50"
                                                onClick={() => setShowModal(false)}
                                            >
                                                Cancelar
                                            </button>
                                            <button
                                                type="submit"
                                                className="px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700"
                                            >
                                                {currentNeighborhood ? 'Guardar cambios' : 'Crear barrio'}
                                            </button>
                                        </div>
                                    </form>
                                </div>
                            </div>
                        </div>
                    )}
                </div>
            );
        }

        function AdminSettings() {
            const [settings, setSettings] = React.useState({
                siteTitle: 'Vive Artigas',
                siteDescription: 'La mejor plataforma de propiedades en Artigas',
                contactEmail: 'contacto@viveartigas.com',
                contactPhone: '+598 477 12345',
                maintenanceMode: false
            });

            const handleChange = (e) => {
                const { name, value, type, checked } = e.target;
                setSettings(prev => ({
                    ...prev,
                    [name]: type === 'checkbox' ? checked : value
                }));
            };

            const handleSubmit = (e) => {
                e.preventDefault();
                alert('Configuración guardada correctamente');
            };

            return (
                <div>
                    <h2 className="text-2xl font-bold mb-6">Configuración del Sitio</h2>
                    
                    <form onSubmit={handleSubmit} className="bg-white rounded-lg shadow p-6">
                        <div className="space-y-6">
                            <div>
                                <label htmlFor="siteTitle" className="block text-sm font-medium text-gray-700 mb-1">
                                    Título del sitio
                                </label>
                                <input
                                    type="text"
                                    id="siteTitle"
                                    name="siteTitle"
                                    className="w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500"
                                    value={settings.siteTitle}
                                    onChange={handleChange}
                                />
                            </div>
                            
                            <div>
                                <label htmlFor="siteDescription" className="block text-sm font-medium text-gray-700 mb-1">
                                    Descripción del sitio
                                </label>
                                <textarea
                                    id="siteDescription"
                                    name="siteDescription"
                                    rows="3"
                                    className="w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500"
                                    value={settings.siteDescription}
                                    onChange={handleChange}
                                ></textarea>
                            </div>
                            
                            <div className="grid grid-cols-1 md:grid-cols-2 gap-6">
                                <div>
                                    <label htmlFor="contactEmail" className="block text-sm font-medium text-gray-700 mb-1">
                                        Email de contacto
                                    </label>
                                    <input
                                        type="email"
                                        id="contactEmail"
                                        name="contactEmail"
                                        className="w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500"
                                        value={settings.contactEmail}
                                        onChange={handleChange}
                                    />
                                </div>
                                
                                <div>
                                    <label htmlFor="contactPhone" className="block text-sm font-medium text-gray-700 mb-1">
                                        Teléfono de contacto
                                    </label>
                                    <input
                                        type="tel"
                                        id="contactPhone"
                                        name="contactPhone"
                                        className="w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500"
                                        value={settings.contactPhone}
                                        onChange={handleChange}
                                    />
                                </div>
                            </div>
                            
                            <div className="flex items-center">
                                <input
                                    type="checkbox"
                                    id="maintenanceMode"
                                    name="maintenanceMode"
                                    className="h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"
                                    checked={settings.maintenanceMode}
                                    onChange={handleChange}
                                />
                                <label htmlFor="maintenanceMode" className="ml-2 block text-sm text-gray-700">
                                    Modo mantenimiento
                                </label>
                            </div>
                            
                            <div className="pt-5">
                                <div className="flex justify-end">
                                    <button
                                        type="submit"
                                        className="ml-3 inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"
                                    >
                                        Guardar cambios
                                    </button>
                                </div>
                            </div>
                        </div>
                    </form>
                </div>
            );
        }

        function App() {
            return (
                <BrowserRouter>
                    <div className="flex flex-col min-h-screen">
                        <Header />
                        <main className="flex-grow">
                            <Switch>
                                <Route path="/" exact component={HomePage} />
                                <Route path="/login" component={LoginPage} />
                                <Route path="/property/:id" component={PropertyPage} />
                                <Route path="/admin" component={AdminDashboard} />
                                {/* Agrega aquí las demás rutas que necesites */}
                            </Switch>
                        </main>
                        <Footer />
                    </div>
                </BrowserRouter>
            );
        }

        function openChat() {
            alert('Chat de soporte abierto (simulación). En una implementación real, esto conectaría con un servicio de chat en vivo como LiveChat o Intercom.');
        }

        ReactDOM.render(<App />, document.getElementById('root'));
    </script>
</body>
</html>
