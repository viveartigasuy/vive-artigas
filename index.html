<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vive Artigas - Artigas, Uruguay</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css">
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css">
    <link rel="stylesheet" href="./output.css"> <!-- Local Tailwind CSS -->
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
</head>
<body class="bg-gray-50">
    <div id="root"></div>
    <div class="chat-bubble pulse" onclick="openChat()">
        <i class="fas fa-comment-dots"></i> Soporte en Vivo
    </div>
    
    <script src="https://cdn.jsdelivr.net/npm/react@18.3.1/umd/react.production.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/react-dom@18.3.1/umd/react-dom.production.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/react-router-dom@5.3.4/umd/react-router-dom.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@babel/standalone@7.25.6/babel.min.js"></script>
    
    <script type="text/babel">
        const { BrowserRouter, Route, Switch, Link, useParams, useNavigate } = ReactRouterDOM;

        // Datos simulados
        const citiesData = [
            { id: 1, name: "Artigas", coordinates: { lat: -30.4000, lng: -56.4667 } }
        ];

        const propertiesData = [
            { 
                id: 1, 
                type: "Casa", 
                title: "Casa Céntrica en Artigas", 
                description: "Hermosa casa de 3 dormitorios ubicada a solo 2 cuadras de la Plaza Artigas. Amplio jardín y garaje para 2 autos.", 
                price: 25000, 
                location: "Centro, Artigas", 
                cityId: 1, 
                neighborhood: "Centro",
                bedrooms: 3, 
                bathrooms: 2, 
                area: 120, 
                yearBuilt: 2010, 
                amenities: ["jardín", "garaje", "aire acondicionado"], 
                images: ["https://images.unsplash.com/photo-1564013799919-ab600027ffc6?ixlib=rb-4.0.3&auto=format&fit=crop&w=1350&q=80"], 
                agencyId: 1, 
                isFeatured: true, 
                sponsored: true,
                status: "approved"
            },
            { 
                id: 2, 
                type: "Apartamento", 
                title: "Apartamento Moderno en Barrio Norte", 
                description: "Apartamento completamente renovado con vista a la ciudad. Cocina moderna y amplio balcón.", 
                price: 18000, 
                location: "Norte, Artigas", 
                cityId: 1, 
                neighborhood: "Barrio Norte",
                bedrooms: 2, 
                bathrooms: 1, 
                area: 80, 
                yearBuilt: 2020, 
                amenities: ["balcón", "lavadero"], 
                images: ["https://images.unsplash.com/photo-1493809842364-78817add7ffb?ixlib=rb-4.0.3&auto=format&fit=crop&w=1350&q=80"], 
                agencyId: null, 
                isFeatured: false, 
                sponsored: false,
                status: "approved"
            }
        ];

        const agenciesData = [
            { 
                id: 1, 
                name: "Inmobiliaria Artigas", 
                logo: "https://via.placeholder.com/150?text=Inmobiliaria+Artigas", 
                description: "Expertos en propiedades de Artigas desde 2010. Más de 100 propiedades vendidas.", 
                images: ["https://images.unsplash.com/photo-1600585154340-be6161a56a0c?ixlib=rb-4.0.3&auto=format&fit=crop&w=1350&q=80"], 
                plan: "Pro", 
                contact: "098-123-456", 
                website: "https://inmobiliaria-artigas.com", 
                cityId: 1 
            }
        ];

        const servicesData = [
            { 
                id: 1, 
                name: "Plomería Express Artigas", 
                category: "Plomería", 
                contact: "098-123-456", 
                description: "Servicio de plomería 24/7 en Artigas.", 
                cityId: 1 
            }
        ];

        const neighborhoodsData = [
            { id: 1, name: "Centro", description: "El corazón de Artigas con acceso a todos los servicios.", coordinates: { lat: -30.4000, lng: -56.4667 }, cityId: 1 },
            { id: 2, name: "Barrio Norte", description: "Zona residencial tranquila.", coordinates: { lat: -30.3900, lng: -56.4700 }, cityId: 1 },
            { id: 3, name: "Barrio Sur", description: "Barrio con espacios verdes.", coordinates: { lat: -30.4100, lng: -56.4600 }, cityId: 1 },
            { id: 4, name: "Barrio Ayuí", description: "Cerca del río, ideal para familias.", coordinates: { lat: -30.3950, lng: -56.4800 }, cityId: 1 },
            { id: 5, name: "Barrio La Bolsa", description: "Zona en crecimiento.", coordinates: { lat: -30.4050, lng: -56.4650 }, cityId: 1 },
            { id: 6, name: "Barrio Progreso", description: "Barrio con comercios locales.", coordinates: { lat: -30.3980, lng: -56.4750 }, cityId: 1 },
            { id: 7, name: "Barrio 18 de Julio", description: "Zona histórica.", coordinates: { lat: -30.4020, lng: -56.4680 }, cityId: 1 },
            { id: 8, name: "Barrio Cerro Ejido", description: "Barrio con vistas elevadas.", coordinates: { lat: -30.3880, lng: -56.4620 }, cityId: 1 }
        ];

        const usersData = [
            { id: 1, username: "admin", password: "admin123", role: "admin" },
            { id: 2, username: "user1", password: "user123", role: "user" }
        ];

        // Error Boundary
        class ErrorBoundary extends React.Component {
            state = { hasError: false };
            static getDerivedStateFromError() {
                return { hasError: true };
            }
            render() {
                if (this.state.hasError) {
                    return <div className="text-center p-8">Algo salió mal. Por favor, recarga la página.</div>;
                }
                return this.props.children;
            }
        }

        // Memoized PropertyCard
        const PropertyCard = React.memo(({ property }) => {
            return (
                <div className="property-card bg-white rounded-xl shadow-md overflow-hidden">
                    {property.sponsored && (
                        <div className="absolute top-3 left-3 bg-yellow-400 text-white text-xs px-3 py-1 rounded-full z-10 flex items-center">
                            <i className="fas fa-star mr-1"></i> Patrocinado
                        </div>
                    )}
                    <div className="relative h-48 overflow-hidden">
                        <img 
                            src={property.images[0]} 
                            alt={property.title} 
                            className="w-full h-full object-cover transition-transform duration-500 hover:scale-110"
                        />
                        <div className="absolute bottom-3 left-3 bg-blue-600 text-white text-xs px-2 py-1 rounded flex items-center">
                            <i className={`fas fa-${property.type === 'Casa' ? 'home' : 'building'} mr-1`}></i> {property.type}
                        </div>
                    </div>
                    <div className="p-5">
                        <h3 className="text-xl font-semibold mb-2 line-clamp-1">{property.title}</h3>
                        <p className="text-gray-600 text-sm mb-3 flex items-center">
                            <i className="fas fa-map-marker-alt mr-2 text-blue-500"></i> 
                            <span className="line-clamp-1">{property.location}</span>
                        </p>
                        <div className="flex justify-between text-sm text-gray-700 mb-4">
                            <span className="flex items-center">
                                {property.bedrooms} <i className="fas fa-bed ml-1 text-blue-500"></i>
                            </span>
                            <span className="flex items-center">
                                {property.bathrooms} <i className="fas fa-bath ml-1 text-blue-500"></i>
                            </span>
                            <span className="flex items-center">
                                {property.area} m² <i className="fas fa-ruler-combined ml-1 text-blue-500"></i>
                            </span>
                        </div>
                        <div className="flex justify-between items-center">
                            <p className="text-2xl font-bold text-blue-600">
                                UYU {property.price.toLocaleString('es-UY')}
                            </p>
                            <Link 
                                to={`/property/${property.id}`} 
                                className="text-blue-600 hover:text-blue-800 font-semibold text-sm flex items-center"
                            >
                                Ver más <i className="fas fa-arrow-right ml-2"></i>
                            </Link>
                        </div>
                    </div>
                </div>
            );
        });

        function Header() {
            const [user, setUser] = React.useState(JSON.parse(localStorage.getItem('user')));
            const navigate = useNavigate();

            const handleLogout = () => {
                localStorage.removeItem('user');
                setUser(null);
                navigate('/');
            };

            return (
                <header className="bg-gradient-to-r from-blue-900 to-blue-600 text-white shadow-lg sticky top-0 z-50">
                    <nav className="container mx-auto px-4 py-3 flex flex-col md:flex-row justify-between items-center">
                        <Link to="/" className="text-2xl font-bold hover:text-yellow-300 transition-colors flex items-center mb-4 md:mb-0">
                            <i className="fas fa-home mr-2"></i> Vive Artigas
                        </Link>
                        <div className="flex flex-wrap justify-center gap-4 md:gap-6">
                            <Link to="/" className="hover:text-yellow-300 transition-colors flex items-center">
                                <i className="fas fa-search mr-1"></i> Buscar
                            </Link>
                            <Link to="/list" className="hover:text-yellow-300 transition-colors flex items-center">
                                <i className="fas fa-plus-circle mr-1"></i> Publicar
                            </Link>
                            <Link to="/agencies" className="hover:text-yellow-300 transition-colors flex items-center">
                                <i className="fas fa-building mr-1"></i> Inmobiliarias
                            </Link>
                            <Link to="/services" className="hover:text-yellow-300 transition-colors flex items-center">
                                <i className="fas fa-tools mr-1"></i> Servicios
                            </Link>
                            {user ? (
                                <>
                                    <Link to="/profile" className="hover:text-yellow-300 transition-colors flex items-center">
                                        <i className="fas fa-user-circle mr-1"></i> {user.username}
                                    </Link>
                                    {user.role === 'admin' && (
                                        <Link to="/admin" className="hover:text-yellow-300 transition-colors flex items-center">
                                            <i className="fas fa-cog mr-1"></i> Admin
                                        </Link>
                                    )}
                                    <button onClick={handleLogout} className="hover:text-yellow-300 flex items-center">
                                        <i className="fas fa-sign-out-alt mr-1"></i> Salir
                                    </button>
                                </>
                            ) : (
                                <Link to="/login" className="hover:text-yellow-300 transition-colors flex items-center">
                                    <i className="fas fa-sign-in-alt mr-1"></i> Ingresar
                                </Link>
                            )}
                        </div>
                    </nav>
                </header>
            );
        }

        function Footer() {
            return (
                <footer className="bg-gray-900 text-white py-8 mt-12">
                    <div className="container mx-auto px-4">
                        <div className="grid grid-cols-1 md:grid-cols-4 gap-8">
                            <div>
                                <h3 className="text-xl font-bold mb-4 text-yellow-300">Vive Artigas</h3>
                                <p className="text-gray-400">Tu plataforma para encontrar propiedades en Artigas.</p>
                            </div>
                            <div>
                                <h4 className="font-semibold mb-4">Enlaces</h4>
                                <ul className="space-y-2">
                                    <li><Link to="/" className="text-gray-400 hover:text-white">Inicio</Link></li>
                                    <li><Link to="/list" className="text-gray-400 hover:text-white">Publicar propiedad</Link></li>
                                    <li><Link to="/agencies" className="text-gray-400 hover:text-white">Inmobiliarias</Link></li>
                                    <li><Link to="/plans" className="text-gray-400 hover:text-white">Planes</Link></li>
                                </ul>
                            </div>
                            <div>
                                <h4 className="font-semibold mb-4">Contacto</h4>
                                <ul className="text-gray-400 space-y-2">
                                    <li className="flex items-center"><i className="fas fa-phone-alt mr-2"></i> +598 123 456</li>
                                    <li className="flex items-center"><i className="fas fa-envelope mr-2"></i> contacto@viveartigas.com</li>
                                    <li className="flex items-center"><i className="fas fa-map-marker-alt mr-2"></i> Artigas, Uruguay</li>
                                </ul>
                            </div>
                            <div>
                                <h4 className="font-semibold mb-4">Síguenos</h4>
                                <div className="flex space-x-4">
                                    <a href="#" className="text-gray-400 hover:text-white text-xl"><i className="fab fa-facebook"></i></a>
                                    <a href="#" className="text-gray-400 hover:text-white text-xl"><i className="fab fa-instagram"></i></a>
                                    <a href="#" className="text-gray-400 hover:text-white text-xl"><i className="fab fa-twitter"></i></a>
                                </div>
                            </div>
                        </div>
                        <div className="border-t border-gray-800 mt-8 pt-6 text-center text-gray-400">
                            <p>© 2025 Vive Artigas. Todos los derechos reservados.</p>
                        </div>
                    </div>
                </footer>
            );
        }

        function HomePage() {
            const [searchTerm, setSearchTerm] = React.useState('');
            const [filterType, setFilterType] = React.useState('');
            const [filterMinPrice, setFilterMinPrice] = React.useState('');
            const [filterMaxPrice, setFilterMaxPrice] = React.useState('');
            const [filterNeighborhood, setFilterNeighborhood] = React.useState('');
            const [showFilters, setShowFilters] = React.useState(false);
            const user = JSON.parse(localStorage.getItem('user'));
            const navigate = useNavigate();

            const filteredProperties = propertiesData.filter(prop => {
                const matchesSearch = searchTerm === '' || 
                    prop.title.toLowerCase().includes(searchTerm.toLowerCase()) || 
                    prop.location.toLowerCase().includes(searchTerm.toLowerCase()) || 
                    prop.description.toLowerCase().includes(searchTerm.toLowerCase()) || 
                    prop.type.toLowerCase().includes(searchTerm.toLowerCase());
                const matchesType = filterType === '' || prop.type === filterType;
                const matchesMinPrice = filterMinPrice === '' || prop.price >= parseFloat(filterMinPrice);
                const matchesMaxPrice = filterMaxPrice === '' || prop.price <= parseFloat(filterMaxPrice);
                const matchesNeighborhood = filterNeighborhood === '' || prop.neighborhood === filterNeighborhood;
                return matchesSearch && matchesType && matchesMinPrice && matchesMaxPrice && matchesNeighborhood && prop.status === 'approved';
            });

            const aiRecommendations = user ? filteredProperties.filter(p => p.isFeatured || p.sponsored).slice(0, 3) : [];
            const city = citiesData[0]; // Only Artigas

            const propertyTypes = [
                { name: "Casas", icon: "home", count: propertiesData.filter(p => p.type === "Casa").length },
                { name: "Apartamentos", icon: "building", count: propertiesData.filter(p => p.type === "Apartamento").length },
                { name: "Terrenos", icon: "mountain", count: 5 },
                { name: "Locales", icon: "store", count: 3 }
            ];

            // Parallax effect
            React.useEffect(() => {
                const handleScroll = () => {
                    const parallax = document.querySelector('.parallax-image');
                    if (parallax) {
                        const scrolled = window.scrollY;
                        parallax.style.transform = `translateY(${scrolled * 0.5}px)`;
                    }
                };
                window.addEventListener('scroll', handleScroll);
                return () => window.removeEventListener('scroll', handleScroll);
            }, []);

            return (
                <ErrorBoundary>
                    <div className="fade-in">
                        {/* Hero Section with Parallax */}
                        <div className="hero-section text-white py-20 px-4 relative">
                            <div className="parallax-image"></div>
                            <div className="container mx-auto text-center relative z-10">
                                <h1 className="text-4xl md:text-5xl font-bold mb-6">Encuentra tu hogar en Artigas</h1>
                                <p className="text-xl mb-8 max-w-2xl mx-auto">Descubre las mejores propiedades en Artigas</p>
                                
                                <div className="bg-white rounded-lg shadow-xl p-6 max-w-4xl mx-auto">
                                    <div className="flex flex-col md:flex-row gap-4 mb-4">
                                        <div className="flex-1">
                                            <input
                                                type="text"
                                                placeholder="Buscar por ubicación, tipo o características..."
                                                value={searchTerm}
                                                onChange={(e) => setSearchTerm(e.target.value)}
                                                className="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:outline-none"
                                            />
                                        </div>
                                        <button 
                                            type="button"
                                            onClick={() => setShowFilters(!showFilters)}
                                            className="bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-lg transition-all flex items-center justify-center"
                                        >
                                            {showFilters ? 'Menos' : 'Más'} filtros <i className={`fas fa-${showFilters ? 'minus' : 'plus'} ml-2`}></i>
                                        </button>
                                    </div>

                                    {showFilters && (
                                        <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mt-4 slide-in">
                                            <div>
                                                <label className="block text-sm font-medium text-gray-700 mb-1">Tipo</label>
                                                <select 
                                                    value={filterType} 
                                                    onChange={(e) => setFilterType(e.target.value)} 
                                                    className="w-full p-2 border border-gray-300 rounded-md"
                                                >
                                                    <option value="">Todos</option>
                                                    <option value="Casa">Casa</option>
                                                    <option value="Apartamento">Apartamento</option>
                                                </select>
                                            </div>
                                            <div>
                                                <label className="block text-sm font-medium text-gray-700 mb-1">Precio Mín</label>
                                                <input 
                                                    type="number" 
                                                    placeholder="UYU"
                                                    value={filterMinPrice} 
                                                    onChange={(e) => setFilterMinPrice(e.target.value)} 
                                                    className="w-full p-2 border border-gray-300 rounded-md" 
                                                />
                                            </div>
                                            <div>
                                                <label className="block text-sm font-medium text-gray-700 mb-1">Precio Máx</label>
                                                <input 
                                                    type="number" 
                                                    placeholder="UYU"
                                                    value={filterMaxPrice} 
                                                    onChange={(e) => setFilterMaxPrice(e.target.value)} 
                                                    className="w-full p-2 border border-gray-300 rounded-md" 
                                                />
                                            </div>
                                            <div>
                                                <label className="block text-sm font-medium text-gray-700 mb-1">Barrio</label>
                                                <select 
                                                    value={filterNeighborhood} 
                                                    onChange={(e) => setFilterNeighborhood(e.target.value)} 
                                                    className="w-full p-2 border border-gray-300 rounded-md"
                                                >
                                                    <option value="">Cualquier barrio</option>
                                                    {neighborhoodsData.map(n => (
                                                        <option key={n.id} value={n.name}>{n.name}</option>
                                                    ))}
                                                </select>
                                            </div>
                                        </div>
                                    )}
                                </div>
                            </div>
                        </div>

                        {/* Sección de Tipos */}
                        <div className="container mx-auto py-12 px-4">
                            <h2 className="text-3xl font-bold text-center mb-12 text-blue-900">Explora por Tipo de Propiedad</h2>
                            <div className="grid grid-cols-2 md:grid-cols-4 gap-6">
                                {propertyTypes.map((type, index) => (
                                    <div 
                                        key={index} 
                                        className="bg-white rounded-xl shadow-md p-6 text-center hover:shadow-lg transition-shadow cursor-pointer hover:bg-blue-50"
                                        onClick={() => {
                                            setFilterType(type.name.replace(/s$/, ''));
                                            navigate('/');
                                        }}
                                    >
                                        <div className="bg-blue-100 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4">
                                            <i className={`fas fa-${type.icon} text-blue-600 text-2xl`}></i>
                                        </div>
                                        <h3 className="text-xl font-semibold mb-2">{type.name}</h3>
                                        <p className="text-gray-600">{type.count} {type.count === 1 ? 'propiedad' : 'propiedades'}</p>
                                    </div>
                                ))}
                            </div>
                        </div>

                        {/* Recomendaciones */}
                        {user && aiRecommendations.length > 0 && (
                            <div className="bg-blue-50 py-12 px-4">
                                <div className="container mx-auto">
                                    <div className="flex flex-col md:flex-row justify-between items-center mb-8">
                                        <h2 className="text-3xl font-bold text-blue-900 mb-4 md:mb-0">Recomendaciones para Ti</h2>
                                        <Link to="/list" className="text-blue-600 hover:text-blue-800 font-semibold flex items-center">
                                            Ver todas <i className="fas fa-arrow-right ml-2"></i>
                                        </Link>
                                    </div>
                                    <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                                        {aiRecommendations.map(prop => (
                                            <PropertyCard key={prop.id} property={prop} />
                                        ))}
                                    </div>
                                </div>
                            </div>
                        )}

                        {/* Propiedades Destacadas */}
                        <div className="container mx-auto py-12 px-4">
                            <div className="flex flex-col md:flex-row justify-between items-center mb-8">
                                <h2 className="text-3xl font-bold text-blue-900 mb-4 md:mb-0">Propiedades Destacadas en Artigas</h2>
                                <Link to="/list" className="text-blue-600 hover:text-blue-800 font-semibold flex items-center">
                                    Ver todas <i className="fas fa-arrow-right ml-2"></i>
                                </Link>
                            </div>
                            {filteredProperties.filter(p => p.isFeatured).length > 0 ? (
                                <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                                    {filteredProperties.filter(p => p.isFeatured).slice(0, 6).map(prop => (
                                        <PropertyCard key={prop.id} property={prop} />
                                    ))}
                                </div>
                            ) : (
                                <div className="bg-white rounded-lg shadow-md p-8 text-center">
                                    <i className="fas fa-home text-4xl text-gray-400 mb-4"></i>
                                    <h3 className="text-xl font-semibold mb-2">No hay propiedades destacadas</h3>
                                    <p className="text-gray-600 mb-4">Actualmente no tenemos propiedades destacadas.</p>
                                    <Link to="/list" className="inline-block bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700">
                                        Publicar una propiedad
                                    </Link>
                                </div>
                            )}
                        </div>

                        {/* CTA Inmobiliarias */}
                        <div className="bg-gradient-to-r from-blue-800 to-blue-600 text-white py-16 px-4 text-center">
                            <div className="container mx-auto max-w-4xl">
                                <h2 className="text-3xl font-bold mb-6">¿Eres una inmobiliaria?</h2>
                                <p className="text-xl mb-8">Únete a nuestra plataforma y aumenta tu visibilidad</p>
                                <div className="flex flex-col sm:flex-row justify-center gap-4">
                                    <Link to="/plans" className="bg-white text-blue-600 px-8 py-3 rounded-lg font-semibold hover:bg-gray-100 transition-colors flex items-center justify-center">
                                        <i className="fas fa-crown mr-2"></i> Ver planes
                                    </Link>
                                    <Link to="/create-agency" className="bg-transparent border-2 border-white px-8 py-3 rounded-lg font-semibold hover:bg-white hover:text-blue-600 transition-colors flex items-center justify-center">
                                        <i className="fas fa-user-plus mr-2"></i> Registrarse
                                    </Link>
                                </div>
                            </div>
                        </div>
                    </div>
                </ErrorBoundary>
            );
        }

        function LoginPage() {
            const [username, setUsername] = React.useState('');
            const [password, setPassword] = React.useState('');
            const [error, setError] = React.useState('');
            const navigate = useNavigate();

            const handleLogin = (e) => {
                e.preventDefault();
                const user = usersData.find(u => u.username === username && u.password === password);
                if (user) {
                    localStorage.setItem('user', JSON.stringify(user));
                    navigate('/');
                } else {
                    setError('Usuario o contraseña incorrectos');
                }
            };

            return (
                <div className="container mx-auto py-12 px-4">
                    <div className="max-w-md mx-auto bg-white p-8 rounded-lg shadow-md">
                        <h2 className="text-2xl font-bold mb-6 text-center">Iniciar Sesión</h2>
                        {error && <p className="text-red-500 mb-4">{error}</p>}
                        <div className="space-y-4">
                            <div>
                                <label className="block text-sm font-medium text-gray-700">Usuario</label>
                                <input 
                                    type="text" 
                                    value={username} 
                                    onChange={(e) => setUsername(e.target.value)} 
                                    className="w-full p-2 border border-gray-300 rounded-md" 
                                />
                            </div>
                            <div>
                                <label className="block text-sm font-medium text-gray-700">Contraseña</label>
                                <input 
                                    type="password" 
                                    value={password} 
                                    onChange={(e) => setPassword(e.target.value)} 
                                    className="w-full p-2 border border-gray-300 rounded-md" 
                                />
                            </div>
                            <button 
                                onClick={handleLogin}
                                className="w-full bg-blue-600 text-white py-2 rounded-lg hover:bg-blue-700"
                            >
                                Ingresar
                            </button>
                        </div>
                    </div>
                </div>
            );
        }

        function PropertyListPage() {
            const [formData, setFormData] = React.useState({
                title: '', type: 'Casa', description: '', price: '', location: '', neighborhood: 'Centro',
                bedrooms: '', bathrooms: '', area: '', yearBuilt: '', amenities: [], images: []
            });
            const user = JSON.parse(localStorage.getItem('user'));
            const navigate = useNavigate();

            const handleSubmit = (e) => {
                e.preventDefault();
                const newProperty = {
                    ...formData,
                    id: propertiesData.length + 1,
                    cityId: 1,
                    price: parseFloat(formData.price),
                    bedrooms: parseInt(formData.bedrooms),
                    bathrooms: parseInt(formData.bathrooms),
                    area: parseInt(formData.area),
                    yearBuilt: parseInt(formData.yearBuilt),
                    agencyId: user?.role === 'agency' ? user.id : null,
                    isFeatured: false,
                    sponsored: false,
                    status: 'pending'
                };
                propertiesData.push(newProperty);
                alert('Propiedad enviada para aprobación');
                navigate('/');
            };

            return (
                <div className="container mx-auto py-12 px-4">
                    <h2 className="text-3xl font-bold mb-8 text-center">Publicar Propiedad</h2>
                    <div className="max-w-2xl mx-auto bg-white p-8 rounded-lg shadow-md">
                        <div className="space-y-4">
                            <div>
                                <label className="block text-sm font-medium text-gray-700">Título</label>
                                <input 
                                    type="text" 
                                    value={formData.title} 
                                    onChange={(e) => setFormData({...formData, title: e.target.value})} 
                                    className="w-full p-2 border border-gray-300 rounded-md" 
                                />
                            </div>
                            <div>
                                <label className="block text-sm font-medium text-gray-700">Tipo</label>
                                <select 
                                    value={formData.type} 
                                    onChange={(e) => setFormData({...formData, type: e.target.value})} 
                                    className="w-full p-2 border border-gray-300 rounded-md"
                                >
                                    <option value="Casa">Casa</option>
                                    <option value="Apartamento">Apartamento</option>
                                </select>
                            </div>
                            <div>
                                <label className="block text-sm font-medium text-gray-700">Barrio</label>
                                <select 
                                    value={formData.neighborhood} 
                                    onChange={(e) => setFormData({...formData, neighborhood: e.target.value})} 
                                    className="w-full p-2 border border-gray-300 rounded-md"
                                >
                                    {neighborhoodsData.map(n => (
                                        <option key={n.id} value={n.name}>{n.name}</option>
                                    ))}
                                </select>
                            </div>
                            <div>
                                <label className="block text-sm font-medium text-gray-700">Descripción</label>
                                <textarea 
                                    value={formData.description} 
                                    onChange={(e) => setFormData({...formData, description: e.target.value})} 
                                    className="w-full p-2 border border-gray-300 rounded-md" 
                                />
                            </div>
                            <div>
                                <label className="block Hasta aquí llegaste en la edición del código. Continúa desde este punto, asegurándote de completar el componente `PropertyListPage` y cualquier otro componente restante, manteniendo la estructura y funcionalidad del código original, pero con Tailwind CSS integrado localmente. Además, proporciona las instrucciones completas para generar el archivo `output.css` y cualquier otro archivo necesario (como `input.css` y `tailwind.config.js`). Asegura que el código sea completamente funcional, sin errores, y que cumpla con las mejores prácticas para producción.
